"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Compsoul=function(){function r(e){var t;switch(_classCallCheck(this,r),_typeof(e)){case"string":t=document.querySelectorAll(e);break;case"object":t=null===e?{}:void 0===e.length?[e]:e;break;case"boolean":case"undefined":t={};break;default:throw new TypeError(this.constructor.name+" - selector error: "+e)}this.length=t.length,Object.assign(this,t)}return _createClass(r,[{key:"version",get:function(){return.5}},{key:"addClass",value:function(e){for(var t,r=this.length;r--;)(t=this[r].classList).add.apply(t,_toConsumableArray(e.split(" ")));return this}},{key:"ajax",value:function(e){var t=new XMLHttpRequest,r=e.type,n=e.url,o=e.data,a=e.success||function(){},i=e.error||function(){};if("GET"===r){if(!n)throw new TypeError("url error");t.open(r,n,!0),t.onload=function(){200<=t.status&&t.status<400?a(t.responseText):(console.warn("request error"),i())},t.onerror=function(){i()},t.send()}else if("POST"===r){if(!n)throw new TypeError("url error");if(!o)throw new TypeError("data error");t.open(r,n,!0),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),t.send(o)}return this}},{key:"append",value:function(e){for(var t=this.length;t--;)this[t].appendChild(e);return this}},{key:"attr",value:function(e,t){var r=this.length;if(void 0===t)return!!this[0]&&this[0].getAttribute(e);for(;r--;)this[r].setAttribute(e,t);return this}},{key:"each",value:function(e){for(var t=0;t<this.length;t++)e.apply(this[t]);return this}},{key:"hasClass",value:function(e){return this[0].classList.contains(e)}},{key:"html",value:function(e){var t=this.length;if(void 0===e)return this[0].innerHTML;for(;t--;)this[t].innerHTML=e;return this}},{key:"index",value:function(){for(var e=!!this[0]&&this[0].parentElement,t=!!this[0]&&e.children.length,r=-1;t--;)e.children[t]===this[0]&&(r=t);return r}},{key:"on",value:function(e,t){for(var r=this.length;r--;)this[r].addEventListener(e,t);return this}},{key:"off",value:function(e,t){for(var r=this.length;r--;)this[r].removeEventListener(e,t);return this}},{key:"remove",value:function(){for(var e=this.length;e--;)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this}},{key:"removeAttr",value:function(e){for(var t=this.length;t--;)this[t].removeAttribute(e);return this}},{key:"removeClass",value:function(e){for(var t,r=this.length;r--;)(t=this[r].classList).remove.apply(t,_toConsumableArray(e.split(" ")));return this}},{key:"toggleClass",value:function(e){for(var t,r=this.length;r--;)(t=this[r].classList).toggle.apply(t,_toConsumableArray(e.split(" ")));return this}}]),r}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBzb3VsLmpzIl0sIm5hbWVzIjpbIkNvbXBzb3VsIiwic2VsZWN0b3IiLCJfc2VsZWN0b3IiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiX3R5cGVvZiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImxlbmd0aCIsIlR5cGVFcnJvciIsImNvbnN0cnVjdG9yIiwibmFtZSIsIk9iamVjdCIsImFzc2lnbiIsImNsYXNzTGlzdCIsIl90aGlzJGxlbiRjbGFzc0xpc3QiLCJsZW4iLCJhZGQiLCJhcHBseSIsIl90b0NvbnN1bWFibGVBcnJheSIsInNwbGl0Iiwic2V0dGluZ3MiLCJyZXF1ZXN0IiwiWE1MSHR0cFJlcXVlc3QiLCJ0eXBlIiwidXJsIiwiZGF0YSIsInN1Y2Nlc3MiLCJlcnJvciIsIm9ubG9hZCIsInN0YXR1cyIsInJlc3BvbnNlVGV4dCIsImNvbnNvbGUiLCJ3YXJuIiwib25lcnJvciIsInNlbmQiLCJvcGVuIiwic2V0UmVxdWVzdEhlYWRlciIsImVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsImdldEF0dHJpYnV0ZSIsImF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsInZhbHVlIiwiY2FsbGJhY2siLCJpIiwiY2xhc3NOYW1lIiwiY29udGFpbnMiLCJodG1sIiwiaW5uZXJIVE1MIiwicGFyZW50IiwicGFyZW50RWxlbWVudCIsImNoaWxkcmVuIiwiaW5kZXgiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnROYW1lIiwiZXZlbnRIYW5kbGVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsInJlbW92ZUF0dHJpYnV0ZSIsIl90aGlzJGxlbiRjbGFzc0xpc3QyIiwiX3RoaXMkbGVuJGNsYXNzTGlzdDMiLCJ0b2dnbGUiXSwibWFwcGluZ3MiOiI2cERBQU1BLFMsV0FLSixTQUFBQSxFQUFZQyxHQUNWLElBQUlDLEVBQ0osT0FGb0JDLGdCQUFBQyxLQUFBSixHQUVwQkssUUFBZUosSUFDYixJQUFL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LEVBQVdDLEdBbkNiLElBb0NBLElBQUl4QyxFQUFNWixLQUFLSSxPQXBDWFEsS0F1Q0ZaLEtBQUtZLEdBQUt5QyxvQkFBb0JGLEVBQVdDLEdBbkN2QyxPQUFBcEQsTyxvQkFHRixXQUdGLElBRkMsSUFBQVksRUFBQVosS0FBQUksT0FFRFEsS0FDRFosS0FBQVksR0FBQTBDLFlBQUF0RCxLQUFBWSxHQUFBMEMsV0FBQUMsWUFBQXZELEtBQUFZLElBeUNDLE9BdkNGWixPLHdCQUNFLFNBRUlpRCxHQUdGLElBcUNGLElBQUlyQyxFQUFNWixLQUFLSSxPQXJDYlEsS0FDRFosS0FBQVksR0FBQTRDLGdCQUFBbkIsR0FHRixPQUFBckMsTyx5QkEwQ0QsU0F4Q0FVLEdBR0UsSUFGQSxJQUVTK0MsRUFGVDdDLEVBQU9aLEtBQUdJLE9BRVZRLE1BQ0U2QyxFQUFBekQsS0FBQVksR0FBQUYsV0FBVXdDLE9BQVZwQyxNQUFBMkMsRUFBQTFDLG1CQUEyQkssRUFBTW9CLE1BQWpDLE9BR0YsT0FBQXhDLE8seUJBMkNGLFNBQVlVLEdBR1YsSUFGQSxJQUVhZ0QsRUFGVDlDLEVBekNOWixLQUFBSSxPQTJDUVEsTUF4Q044QyxFQUFBMUQsS0FBQVksR0FBU0YsV0FBSWlELE9BQWI3QyxNQUFBNEMsRUFBQTNDLG1CQUFhTCxFQUFBTSxNQUFBLE9BNENiLE9BQU9oQixXIiwiZmlsZSI6ImNvbXBzb3VsLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNsYXNzIENvbXBzb3VsIHtcbiAgZ2V0IHZlcnNpb24oKSB7XG4gIFx0cmV0dXJuIDAuNTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKHNlbGVjdG9yKSB7XG4gICAgbGV0IF9zZWxlY3RvcjtcbiAgICBzd2l0Y2ggKHR5cGVvZiBzZWxlY3Rvcikge1xuICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICBfc2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgIF9zZWxlY3RvciA9IChzZWxlY3RvciA9PT0gbnVsbCkgPyB7fSA6ICh0eXBlb2Ygc2VsZWN0b3IubGVuZ3RoID09PSBcInVuZGVmaW5lZFwiKSA/IFsgc2VsZWN0b3IgXSA6IHNlbGVjdG9yO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgIF9zZWxlY3RvciA9IHt9O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ1bmRlZmluZWRcIjpcbiAgICAgICAgX3NlbGVjdG9yID0ge307XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcih0aGlzLmNvbnN0cnVjdG9yLm5hbWUgKyBcIiAtIHNlbGVjdG9yIGVycm9yOiBcIiArIHNlbGVjdG9yKTtcbiAgICB9XG5cbiAgICB0aGlzLmxlbmd0aCA9IF9zZWxlY3Rvci5sZW5ndGg7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBfc2VsZWN0b3IpO1xuXG4gIH1cblxuICBhZGRDbGFzcyhjbGFzc0xpc3QpIHtcbiAgICBsZXQgbGVuID0gdGhpcy5sZW5ndGg7XG5cbiAgICB3aGlsZShsZW4tLSkge1xuICAgICAgdGhpc1tsZW5dLmNsYXNzTGlzdC5hZGQoLi4uY2xhc3NMaXN0LnNwbGl0KFwiIFwiKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBhamF4KHNldHRpbmdzKSB7XG4gICAgbGV0IHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKSxcbiAgICAgICAgdHlwZSA9IHNldHRpbmdzLnR5cGUsXG4gICAgICAgIHVybCA9IHNldHRpbmdzLnVybCxcbiAgICAgICAgZGF0YSA9IHNldHRpbmdzLmRhdGEsXG4gICAgICAgIHN1Y2Nlc3MgPSAoc2V0dGluZ3Muc3VjY2VzcykgPyBzZXR0aW5ncy5zdWNjZXNzIDogKCkgPT4ge30sXG4gICAgICAgIGVycm9yID0gKHNldHRpbmdzLmVycm9yKSA/IHNldHRpbmdzLmVycm9yIDogKCkgPT4ge307XG5cbiAgICBpZiAodHlwZSA9PT0gXCJHRVRcIikge1xuICAgICAgaWYoIXVybCkgdGhyb3cgbmV3IFR5cGVFcnJvcihcInVybCBlcnJvclwiKTtcblxuICAgICAgcmVxdWVzdC5vcGVuKHR5cGUsIHVybCwgdHJ1ZSk7XG4gICAgICByZXF1ZXN0Lm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgaWYgKHJlcXVlc3Quc3RhdHVzID49IDIwMCAmJiByZXF1ZXN0LnN0YXR1cyA8IDQwMCkge1xuICAgICAgICAgIHN1Y2Nlc3MocmVxdWVzdC5yZXNwb25zZVRleHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcInJlcXVlc3QgZXJyb3JcIik7XG4gICAgICAgICAgZXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgcmVxdWVzdC5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgICBlcnJvcigpO1xuICAgICAgfTtcblxuICAgICAgcmVxdWVzdC5zZW5kKCk7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSBcIlBPU1RcIikge1xuICAgICAgaWYoIXVybCkgdGhyb3cgbmV3IFR5cGVFcnJvcihcInVybCBlcnJvclwiKTtcbiAgICAgIGlmKCFkYXRhKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiZGF0YSBlcnJvclwiKTtcblxuICAgICAgcmVxdWVzdC5vcGVuKHR5cGUsIHVybCwgdHJ1ZSk7XG4gICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgnKTtcbiAgICAgIHJlcXVlc3Quc2VuZChkYXRhKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGFwcGVuZChlbGVtZW50KSB7XG4gICAgbGV0IGxlbiA9IHRoaXMubGVuZ3RoO1xuXG4gICAgd2hpbGUobGVuLS0pIHtcbiAgICAgIHRoaXNbbGVuXS5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGF0dHIoYXR0cmlidXRlLCB2YWx1ZSkge1xuICAgIGxldCBsZW4gPSB0aGlzLmxlbmd0aDtcblxuICAgIGlmKHR5cGVvZiB2YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgd2hpbGUobGVuLS0pIHtcbiAgICAgICAgdGhpc1tsZW5dLnNldEF0dHJpYnV0ZShhdHRyaWJ1dGUsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICh0aGlzWzBdKSA/IHRoaXNbMF0uZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZSkgOiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGVhY2goY2FsbGJhY2spIHtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgY2FsbGJhY2suYXBwbHkodGhpc1tpXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBoYXNDbGFzcyhjbGFzc05hbWUpIHtcbiAgICByZXR1cm4gdGhpc1swXS5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKTtcbiAgfVxuXG4gIGh0bWwoaHRtbCkge1xuICAgIGxldCBsZW4gPSB0aGlzLmxlbmd0aDtcblxuICAgIGlmKHR5cGVvZiBodG1sICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB3aGlsZShsZW4tLSkge1xuICAgICAgICB0aGlzW2xlbl0uaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXNbMF0uaW5uZXJIVE1MO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgaW5kZXgoKSB7XG4gICAgbGV0IHBhcmVudCA9ICh0aGlzWzBdKSA/IHRoaXNbMF0ucGFyZW50RWxlbWVudCA6IGZhbHNlLFxuICAgICAgICBsZW4gPSAodGhpc1swXSkgPyBwYXJlbnQuY2hpbGRyZW4ubGVuZ3RoIDogZmFsc2UsXG4gICAgICAgIGluZGV4ID0gLTE7XG5cbiAgICB3aGlsZShsZW4tLSkge1xuICAgICAgaWYgKHBhcmVudC5jaGlsZHJlbltsZW5dID09PSB0aGlzWzBdKSBpbmRleCA9IGxlbjtcbiAgICB9XG5cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICBvbih0eXBlLCBjYWxsYmFjaykge1xuICAgIGxldCBsZW4gPSB0aGlzLmxlbmd0aDtcblxuICAgIHdoaWxlKGxlbi0tKSB7XG4gICAgICB0aGlzW2xlbl0uYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBvZmYoZXZlbnROYW1lLCBldmVudEhhbmRsZXIpIHtcbiAgICBsZXQgbGVuID0gdGhpcy5sZW5ndGg7XG5cbiAgICB3aGlsZShsZW4tLSkge1xuICAgICAgdGhpc1tsZW5dLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBldmVudEhhbmRsZXIpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcmVtb3ZlKCkge1xuICAgIGxldCBsZW4gPSB0aGlzLmxlbmd0aDtcblxuICAgIHdoaWxlKGxlbi0tKSB7XG4gICAgICBpZih0aGlzW2xlbl0ucGFyZW50Tm9kZSkgdGhpc1tsZW5dLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpc1tsZW5dKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHJlbW92ZUF0dHIoYXR0cmlidXRlKSB7XG4gICAgbGV0IGxlbiA9IHRoaXMubGVuZ3RoO1xuXG4gICAgd2hpbGUobGVuLS0pIHtcbiAgICAgIHRoaXNbbGVuXS5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHJlbW92ZUNsYXNzKGNsYXNzTGlzdCkge1xuICAgIGxldCBsZW4gPSB0aGlzLmxlbmd0aDtcblxuICAgIHdoaWxlKGxlbi0tKSB7XG4gICAgICB0aGlzW2xlbl0uY2xhc3NMaXN0LnJlbW92ZSguLi5jbGFzc0xpc3Quc3BsaXQoXCIgXCIpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHRvZ2dsZUNsYXNzKGNsYXNzTGlzdCkge1xuICAgIGxldCBsZW4gPSB0aGlzLmxlbmd0aDtcblxuICAgIHdoaWxlKGxlbi0tKSB7XG4gICAgICB0aGlzW2xlbl0uY2xhc3NMaXN0LnRvZ2dsZSguLi5jbGFzc0xpc3Quc3BsaXQoXCIgXCIpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG59XG4iXX0=
