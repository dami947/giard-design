"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,s){return t&&_defineProperties(e.prototype,t),s&&_defineProperties(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}var Gallery=function(){function t(e){_classCallCheck(this,t),window.Compsoul=window.Compsoul||window.jQuery,this.settings={galleryClassContainer:"compsoul-gallery-container",galleryClassContent:"compsoul-gallery-content",galleryClassClose:"compsoul-gallery-close",galleryClassNext:"compsoul-gallery-next",galleryClassPrev:"compsoul-gallery-prev",galleryClassProgress:"compsoul-gallery-progress",galleryClassItem:"compsoul-gallery-item",galleryClassImage:"compsoul-gallery-image",galleryClassComment:"compsoul-gallery-comment",galleryClassZoom:"compsoul-gallery-zoom",galleryClassFullScreen:"compsoul-gallery-full-screen",thumbnailsClassContainer:"thumbnails-container",thumbnailsClassContent:"thumbnails-content",thumbnailsClassToggle:"thumbnails-toggle",thumbnailsClassShow:"thumbnails-show",thumbnailsClassImage:"thumbnails-image",classActive:"compsoul-active",classInactive:"compsoul-inactive",classNext:"compsoul-next",classPrev:"compsoul-prev",classFade:"compsoul-fade",classPast:"compsoul-past",classReady:"compsoul-ready",classResize:"compsoul-resize",classLoader:"compsoul-loader",classLoading:"compsoul-loading",classLoaded:"compsoul-loaded",classError:"compsoul-error",classZoom:"compsoul-zoom",classZoomOut:"compsoul-zoom-out",classOverflow:"compsoul-overflow",classDirectionNext:"compsoul-direction-next",classDirectionPrev:"compsoul-direction-prev",classPlay:"compsoul-play",classHidden:"compsoul-hidden",classUnset:"compsoul-unset",classDrag:"compsoul-drag",classDisorderly:"compsoul-disorderly",classLogo:"compsoul-logo",selector:e,close:!0,closeDelay:200,next:!0,prev:!0,album:!1,albumStart:0,preload:!1,counter:!0,loop:!0,zoom:!0,zoomDelay:400,overflow:!0,hash:!0,thumbnails:!0,keyNext:["ArrowRight","d","KeyD"],keyPrev:["ArrowLeft","a","KeyA"],keyClose:["Escape","x","KeyX"],keyCounter:["Space"],keyThumbnails:["t","KeyT"],keyZoom:["z","KeyZ"],responsive:{}},this.logo='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 584.7 180"><path d="M559.4,17.1c0-0.4-0.1-0.9-0.1-1.3c-0.6-2.6-2.9-4.6-5.7-4.6c-0.7,0-1.4,0.1-2,0.4c-0.3,0.2-0.7,0.3-1.1,0.5c-17.9,8.6-66.9,31.3-101.4,40.7c-75.3,20.6-88.8,21.6-89.3,21.7c-1.8,0.6-3.3,1.8-4.3,3.4c-0.6,1.1-0.9,2.3-0.9,3.6c0,1.9,0.7,3.6,1.9,4.9c0.1,0.1,0.2,0.2,0.3,0.4c0.3,0.3,0.5,0.7,0.8,1c0.1,0.2,0.3,0.4,0.4,0.5c2.1,2.6,3.9,5.3,5.6,8.3c0,0.1,0.1,0.2,0.1,0.2c0.6,1.1,1.1,2.1,1.6,3.2c0.2,0.4,0.4,0.9,0.6,1.3c2,4.3,3.4,8.8,4.4,13.6c0.6,3.3,1,6.8,1.1,10.3c0,0.4,0,0.7,0,1.1c0,0.4,0,0.8,0,1.2c0,0.4,0,0.7,0,1.1c-0.2,4.7-0.9,9.3-2.1,13.6c-1.3,4.7-3.1,9.2-5.4,13.3l0,0c0,0,0,0.1-0.1,0.1c0,0.1-0.1,0.1-0.1,0.2c-0.3,0.5-0.6,1-0.9,1.5c-0.1,0.1-0.2,0.3-0.3,0.4c-1.8,3.1-6.4,8.8-8.9,11.7c-0.1,0.1-0.2,0.2-0.2,0.3l0.5-0.3c0,0,11.2-7.6,26.6-12.6c16.2-5,36.4-1,51.9-1.2c19.9-0.3,37.4-2.9,47.9-9.4c5.8-3.6,9.5-8.1,10.2-13.1c0.1-0.4,0.1-0.9,0.1-1.4c0,0,0-0.1,0-0.1c-0.3-1.2-1.3-2-2.5-2.2l-0.6,0c0,0-10.9,1.3-15.1,1.3c-4.2,0-12-0.9-12-0.9c24.6-3.6,45.8-10.2,58.5-21.1c7.7-6.6,12.3-14.3,12.7-22.2c0-0.3,0-0.7,0-1c0-0.2,0-0.4-0.1-0.6c-0.4-1.9-2.1-3.3-4.1-3.4l-1.1,0.1c0,0-13.1,3.6-21.2,4.6c-8.1,0.9-19.4,0.8-19.4,0.8c28.2-10.7,51.8-24.3,64-41.2C556.8,36.5,560.2,26.5,559.4,17.1z"/><path d="M335,110c-0.1-0.2-0.2-0.5-0.4-0.7c0,0,0,0,0-0.1c-1.2-2.2-2.7-4.2-4.4-5.9c-6.9-7.3-18.5-10.8-28.9-9.2c-2.9,0.4-3.7,2.2-6.4,3.7c-2.4,1.4-5,2.3-7.6,2.9c-9.8,2.2-20-0.8-27.1-7.9c-0.2-0.2-0.4-0.4-0.5-0.5c-1.7-1.7-3.1-3.7-4.3-5.9c-1.2-2.2-2.1-4.6-2.7-6.9c-0.4-1.5-0.7-3-0.8-4.5v-1.3v-1.8v-2.3c0.1-1.3,0.3-2.5,0.6-3.7c1.2-5.3,3.9-10.2,7.8-14.1c1.9-1.9,4-3.6,6.5-4.9c11.6-6.4,25.7-4,34.6,4.9l20.6-20.6c-17.9-17.9-46.1-22.6-69.3-9.8c-10.4,5.8-18.4,14.3-23.5,24.1c-1.6,3.1-3,6.4-4,9.7c-0.9,2.9-1.6,5.9-2,8.9c-0.1,0.4-0.1,0.8-0.2,1.2c0,0-0.1,0.4-0.1,0.5c-0.9,3.1-2.5,7.1-7.1,7c-0.2,0-1.8-0.3-2.4-0.4c-4-0.8-9.2-2-16.1-3.6c-13.4-3.2-33.2-8.2-61.9-16C101,43.2,52,20.5,34.2,11.9c-0.4-0.2-0.7-0.3-1.1-0.5c-0.6-0.2-1.3-0.4-2-0.4c-2.8,0-5.1,2-5.7,4.6c-0.1,0.4-0.1,0.9-0.1,1.3c-0.9,9.4,2.6,19.4,9.4,28.9c7.5,10.5,19.5,19.7,34.1,27.7c1.4,0.8,2.9,1.6,4.4,2.3c3.5,1.8,7.2,3.5,10.9,5.2c4.7,2.1,9.5,4.1,14.5,6c0,0-11.3,0.2-19.4-0.8c-8.1-0.9-21.2-4.6-21.2-4.6l-1.1-0.1c-1.6,0-2.9,0.9-3.7,2.2c-0.2,0.4-0.4,0.8-0.5,1.2c0,0.2,0,0.4-0.1,0.6c0,0.3,0,0.7,0,1c0.4,8,5,15.6,12.7,22.2c12.7,10.9,34,17.5,58.5,21.1c0,0-7.8,0.9-12,0.9s-15.1-1.3-15.1-1.3l-0.6,0c-1.2,0.1-2.2,1-2.5,2.2c0,0,0,0.1,0,0.1c0,0.5,0,0.9,0.1,1.4c0.6,4.3,3.4,8.2,7.8,11.5c0.7,0.5,1.5,1.1,2.3,1.6c10.5,6.5,28,9.1,47.9,9.4c8.2,0.1,41.7-2,48.5-2c74.7,0,71.5,9.5,71.5,13.6c0,0.9-0.2,1.8-0.5,2.6l5.5-7.9l2.7-3.9l9.3-13.4c9,8.4,22.7,10.5,34.1,4.3c2.8-1.6,5.3-3.5,7.4-5.8c3.6-4,6.1-8.8,7.1-14C338.9,122.8,338.2,116.1,335,110z"/></svg>',this.library=function(){function s(e,t){_classCallCheck(this,s),this.$node=e,this.element=this.$node[0],this.gallery=t,this.settings=t.settings}return _createClass(s,[{key:"$",value:function(e){return new Compsoul(e)}},{key:"active",value:function(){return this.$node.addClass(this.settings.classActive),this}},{key:"inactive",value:function(){return this.$node.removeClass(this.settings.classActive),this}},{key:"next",value:function(){return this.$node.addClass(this.settings.classNext),this}},{key:"prev",value:function(){return this.$node.addClass(this.settings.classPrev),this}},{key:"fade",value:function(){return this.$node.addClass(this.settings.classFade),this}},{key:"past",value:function(){return this.$node.addClass(this.settings.classPast),this}},{key:"ready",value:function(){return this.$node.addClass(this.settings.classReady),this}},{key:"reset",value:function(){return this.$node.removeClass(this.settings.classActive+" "+this.settings.classNext+" "+this.settings.classPrev+" "+this.settings.classFade+" "+this.settings.classPast),this}},{key:"loading",value:function(){return this.$node.addClass(this.settings.classLoading),this}},{key:"loaded",value:function(){return this.$node.removeClass(this.settings.classLoading).addClass(this.settings.classLoaded),this}},{key:"animation",value:function(){return this.element.offsetWidth,this}},{key:"error",value:function(){return this.$node.addClass(this.settings.classError),this}},{key:"img",value:function(e){var t=document.createElement("img");return this.$node.append(this.$(t).attr(e?"src":"alt",e||"none")[0]),this}}]),s}()}function e(){return s.apply(this,arguments)}var s;return _createClass(t,[{key:"$",value:function(e){return new Compsoul(e)}},{key:"factory",value:function(e){return new this.library(e,this)}},{key:"root",value:function(){this.html=this.factory(this.$("html")),this.head=this.factory(this.$("head")),this.body=this.factory(this.$("body")),this.galleryContainer=this.factory(this.$(document.createElement("div")).addClass(this.settings.galleryClassContainer)),this.galleryContent=this.factory(this.$(document.createElement("div")).addClass(this.settings.galleryClassContent)),this.galleryZoom=this.factory(this.$(document.createElement("div")).addClass(this.settings.galleryClassZoom)),this.galleryFullScreen=this.factory(this.$(document.createElement("div")).addClass(this.settings.galleryClassFullScreen)),this.galleryProgress=this.factory(this.$(document.createElement("div")).addClass(this.settings.galleryClassProgress)),this.galleryClose=this.factory(this.$(document.createElement("div")).addClass(this.settings.galleryClassClose)),this.galleryPrev=this.factory(this.$(document.createElement("div")).addClass(this.settings.galleryClassPrev)),this.galleryNext=this.factory(this.$(document.createElement("div")).addClass(this.settings.galleryClassNext)),this.thumbnailsContainer=this.factory(this.$(document.createElement("div")).addClass(this.settings.thumbnailsClassContainer)),this.thumbnailsContent=this.factory(this.$(document.createElement("div")).addClass(this.settings.thumbnailsClassContent)),this.thumbnailsToggle=this.factory(this.$(document.createElement("div")).addClass(this.settings.thumbnailsClassToggle)),this.style=this.factory(this.$(document.createElement("style")).append(document.createTextNode("."+this.settings.classOverflow+" { overflow: hidden; margin-right: "+compsoul.bar.width+"px }")))}},{key:"build",value:function(e){this.body.$node.append(this.galleryContainer.$node.append(this.galleryContent.element).append(this.galleryFullScreen.element).append(this.galleryZoom.$node.append(this.$(document.createElement("button")).append(document.createElement("span"))[0])[0]).append(this.galleryProgress.$node.append(this.$(document.createElement("button")).append(document.createElement("span"))[0])[0]).append(this.thumbnailsToggle.$node.append(this.$(document.createElement("button")).append(document.createElement("span"))[0])[0]).append(this.galleryClose.$node.append(this.$(document.createElement("button")).append(document.createElement("span"))[0])[0]).append(this.galleryPrev.$node.append(this.$(document.createElement("button")).append(document.createElement("span"))[0])[0]).append(this.galleryNext.$node.append(this.$(document.createElement("button")).append(document.createElement("span"))[0])[0]).append(this.$(document.createElement("a")).attr("title","Tworzymy profesjonalne serwisy internetowe, strony www, sklepy internetowe oraz projekty graficzne.").attr("href","http://compsoul.pl").attr("target","_blank").addClass(this.settings.classLogo).html(this.logo)[0]).append(this.thumbnailsContainer.$node.append(this.thumbnailsContent.element)[0])[0]),e||this.content()}},{key:"content",value:function(){this.complement(),this.gallery=this.factory(this.$(this.galleryContent.element.querySelectorAll("."+this.settings.galleryClassItem))),this.thumbnails=this.factory(this.$(this.thumbnailsContent.element.querySelectorAll("."+this.settings.thumbnailsClassImage)))}},{key:"complement",value:function(){this.galleryImages=new Array,this.galleryThumbnails=new Array;for(var e=0;e<this.len;e++)this.galleryContent.$node.append(this.galleryImages[this.galleryImages.push(this.factory(this.$(document.createElement("div")).addClass(this.settings.galleryClassItem).append(this.$(document.createElement("div")).addClass(this.settings.galleryClassImage).append(this.$(document.createElement("div")).addClass(this.settings.galleryClassComment+" "+(this.$gallery[e].dataset.comment||this.$gallery[e].querySelector("."+this.settings.galleryClassComment)?this.settings.classActive:this.settings.classInactive)).html(this.$gallery[e].dataset.comment||(this.$gallery[e].querySelector("."+this.settings.galleryClassComment)?this.$gallery[e].querySelector("."+this.settings.galleryClassComment).innerHTML:" "))[0])[0]).append(this.$(document.createElement("span")).addClass(this.settings.classLoader)[0])))-1].element),this.thumbnailsContent.$node.append(this.galleryThumbnails[this.galleryThumbnails.push(this.factory(this.$(document.createElement("div")).addClass(this.settings.thumbnailsClassImage).append(this.factory(this.$(document.createElement("button")).append(this.$(document.createElement("span")).addClass(this.settings.classLoader)[0])[0]).img(this.$gallery[e].dataset.thumbnail||this.$gallery[e].src||this.$gallery[e].querySelector("img")?this.$gallery[e].querySelector("img").src:!!this.$gallery[e]&&this.$gallery[e].href).$node)))-1].element)}},{key:"modernize",value:function(e){this.index=this.index||{},this.index.direction=this.index.value>e?1:0,this.index.past=this.index.value,this.index.value=this.settings.loop?e>=this.len?0:e<0?this.len-1:e:e>=this.len?this.len-1:e<0?0:e,this.index.next=this.index.value+1>=this.len?0:this.index.value+1,this.index.prev=this.index.value-1<0?this.len-1:this.index.value-1}},{key:"nav",value:function(){!this.settings.loop&&0===this.index.value||this.len<=1?(this.galleryPrev.inactive(),this.settings.counter&&this.galleryProgress.$node.removeClass(this.settings.classActive).removeClass(this.settings.classPlay)):this.galleryPrev.active(),!this.settings.loop&&this.index.value===this.len-1||this.len<=1?(this.galleryNext.inactive(),this.settings.counter&&this.galleryProgress.$node.removeClass(this.settings.classActive).removeClass(this.settings.classPlay)):this.galleryNext.active()}},{key:"set",value:function(e,t,s){var n=this;this.modernize(e),this.len<=2?this.galleryContainer.$node.removeClass(this.settings.classDirectionNext).removeClass(this.settings.classDirectionPrev):this.index.direction?this.galleryContainer.$node.removeClass(this.settings.classDirectionNext).addClass(this.settings.classDirectionPrev):this.galleryContainer.$node.removeClass(this.settings.classDirectionPrev).addClass(this.settings.classDirectionNext),this.index.past==this.index.value&&this.ready||(t?this.galleryContainer.$node.removeClass(this.settings.classDisorderly):this.galleryContainer.$node.addClass(this.settings.classDisorderly),this.gallery.reset(),this.thumbnails.reset(),this.len<=2||this.galleryImages[this.index.next].next(),this.len<=2||this.galleryImages[this.index.prev].prev(),this.len<=2&&this.galleryImages[this.index.next].fade(),t||this.galleryImages[this.index.past].past(),this.galleryImages[this.index.value].reset().active(),this.galleryThumbnails[this.index.value].reset().active(),this.thumbnailTransform(this.index.value)),this.settings.hash&&this.$gallery[this.index.value].dataset.hash?compsoul.location(this.$gallery[this.index.value].dataset.hash):compsoul.location(),this.settings.counter&&this.factory(this.galleryProgress.$node.addClass(this.settings.classUnset)).animation().$node.removeClass(this.settings.classUnset),this.nav(),this.load(this.index.value,function(){n.preload(n.index.value,n.index.value+1),n.preload(n.index.value,n.index.value-1)})}},{key:"load",value:function(e,t){var s=this;this.galleryImages[e].$node.hasClass(this.settings.classLoaded)||this.galleryImages[e].loading(),this.galleryThumbnails[e].$node.hasClass(this.settings.classLoaded)||this.galleryThumbnails[e].loading(),this.galleryImages[e].$node.hasClass(this.settings.classLoaded)&&this.galleryThumbnails[e].$node.hasClass(this.settings.classLoaded)?t&&this.ready&&t():this.$gallery.ajax({type:"GET",url:this.$gallery[e].dataset.url||this.$gallery[e].href||this.$gallery[e].src,success:function(){s.galleryImages[e].$node.hasClass(s.settings.classLoaded)||s.factory(s.$(s.galleryImages[e].ready().loaded().element.querySelector("."+s.settings.galleryClassImage))).img(s.$gallery[e].dataset.url||s.$gallery[e].href||s.$gallery[e].src),s.galleryThumbnails[e].$node.hasClass(s.settings.classLoaded)||s.galleryThumbnails[e].ready().loaded(),t&&s.ready&&t()},error:function(){s.galleryImages[e].error(),s.galleryThumbnails[e].error(),t&&s.ready&&t()}})}},{key:"preload",value:function(e,t){var s=this;!this.settings.loop&&(e<t?t>=this.len:t<0)||this.load(e<t?t>=this.len?0:t:t<0?this.len-1:t,function(){!s.settings.preload||s.settings.preload&&(e<t?t+1>=s.len:t-1<0)||s.preload(t,e<t?t+1:t-1)})}},{key:"bin",value:function(e,t){document.dispatchEvent(this.custom),this.modernize(e),t||(this.root(),this.build()),t&&this.content(),2704===this.logo.length&&this.galleryContainer.element.querySelector("."+this.settings.classLogo)&&(this.update(),this.event(),this.responsive(),this.settings.hash&&(this.location=window.location.hash),this.settings.overflow&&this.overflow(),t||this.galleryContainer.active(),this.set(e,!0),this.ready=!0)}},{key:"thumbnailTransform",value:function(e){this.thumbnailTranslate=this.thumbnailsContent.element.style.transform.replace(/translateX\((.+)px\)/g,"$1"),this.thumbnailTranslate=0===this.thumbnailTranslate||this.thumbnailTranslate?parseInt(this.thumbnailTranslate):0,this.thumbnailTranslateX=this.thumbnailTranslate<=0?this.thumbnailsContent.element.offsetWidth+this.thumbnailTranslate-window.innerWidth<0&&this.thumbnailsContent.element.offsetWidth>window.innerWidth?window.innerWidth-this.thumbnailsContent.element.offsetWidth:this.galleryThumbnails[e].element.offsetLeft+this.thumbnailTranslate<0?-1*this.galleryThumbnails[e].element.offsetLeft:this.galleryThumbnails[e].element.offsetLeft+this.galleryThumbnails[e].element.offsetWidth+this.thumbnailTranslate>window.innerWidth?-1*(this.galleryThumbnails[e].element.offsetLeft+this.galleryThumbnails[e].element.offsetWidth-window.innerWidth):this.thumbnailTranslate:0,this.thumbnailsContent.element.style.transform="translateX("+this.thumbnailTranslateX+"px)"}},{key:"overflow",value:function(){this.head.$node.append(this.style.element),this.html.$node.addClass(this.settings.classOverflow)}},{key:"hash",value:function(){for(var e=this.len;e--;)if("#"+this.$gallery[e].dataset.hash===window.location.hash)return void this.bin(e)}},{key:"zoom",value:function(){this.galleryContainer.$node.hasClass(this.settings.classZoom)?this.zoomOut():this.zoomIn()}},{key:"zoomIn",value:function(){this.galleryContainer.$node.removeClass(this.settings.classZoomOut).addClass(this.settings.classZoom),this.galleryFullScreen.img(this.$gallery[this.index.value].dataset.url||this.$gallery[this.index.value].href||this.$gallery[this.index.value].src).$node.addClass(this.settings.classActive),this.settings.counter&&this.galleryProgress.$node.removeClass(this.settings.classActive).removeClass(this.settings.classPlay)}},{key:"zoomOut",value:function(){var e=this;this.galleryContainer.$node.removeClass(this.settings.classZoom).addClass(this.settings.classZoomOut),setTimeout(function(){e.galleryFullScreen.element.innerHTML="",e.galleryFullScreen.$node.removeClass(e.settings.classActive)},this.settings.zoomDelay)}},{key:"counter",value:function(){this.galleryProgress.$node.hasClass(this.settings.classActive)?this.counterStop():this.counterStart()}},{key:"counterStart",value:function(){this.factory(this.galleryProgress.$node.addClass(this.settings.classUnset)).animation().$node.removeClass(this.settings.classUnset).addClass(this.settings.classActive).addClass(this.settings.classPlay)}},{key:"counterStop",value:function(){this.galleryProgress.$node.removeClass(this.settings.classActive).removeClass(this.settings.classPlay)}},{key:"thumbnail",value:function(){this.galleryContainer.$node.hasClass(this.settings.thumbnailsClassShow)?this.thumbnailOut():this.thumbnailIn()}},{key:"thumbnailIn",value:function(){this.galleryContainer.$node.addClass(this.settings.thumbnailsClassShow),this.$(this.thumbnailsContent.element.querySelectorAll("."+this.settings.thumbnailsClassImage+" button")).attr("tabindex","0")}},{key:"thumbnailOut",value:function(){this.galleryContainer.$node.removeClass(this.settings.thumbnailsClassShow),this.$(this.thumbnailsContent.element.querySelectorAll("."+this.settings.thumbnailsClassImage+" button")).attr("tabindex","-1")}},{key:"remove",value:function(){this.html&&this.html.$node.removeClass(this.settings.classOverflow),this.style&&this.style.$node.remove(),this.galleryContainer&&this.galleryContainer.$node.remove(),this.boot(),this.removeEvents(),this.ready=!1}},{key:"close",value:function(){var e=this;this.galleryContainer.inactive().$node.addClass(this.settings.classInactive),compsoul.location(this.location),setTimeout(function(){e.remove()},this.settings.closeDelay)}},{key:"key",value:function(){var t=this;this.keyNext=function(e){(t.settings.keyNext.includes(e.key)||t.settings.keyNext.includes(e.code))&&t.set(t.index.value+1,!0)},this.keyPrev=function(e){(t.settings.keyPrev.includes(e.key)||t.settings.keyPrev.includes(e.code))&&t.set(t.index.value-1,!0)},this.keyClose=function(e){(t.settings.keyClose.includes(e.key)||t.settings.keyClose.includes(e.code))&&t.close()},this.keyCounter=function(e){(t.settings.keyCounter.includes(e.key)||t.settings.keyCounter.includes(e.code))&&t.counter()},this.keyThumbnails=function(e){(t.settings.keyThumbnails.includes(e.key)||t.settings.keyThumbnails.includes(e.code))&&t.galleryContainer.$node.toggleClass(t.settings.thumbnailsClassShow)},this.keyZoom=function(e){(t.settings.keyZoom.includes(e.key)||t.settings.keyZoom.includes(e.code))&&t.zoom()},this.settings.keyNext&&this.settings.next&&document.addEventListener("keydown",this.keyNext),this.settings.keyPrev&&this.settings.prev&&document.addEventListener("keydown",this.keyPrev),this.settings.keyClose&&this.settings.close&&document.addEventListener("keydown",this.keyClose),this.settings.keyCounter&&this.settings.counter&&document.addEventListener("keydown",this.keyCounter),this.settings.keyThumbnails&&this.settings.thumbnails&&document.addEventListener("keydown",this.keyThumbnails),this.settings.keyZoom&&this.settings.zoom&&document.addEventListener("keydown",this.keyZoom)}},{key:"event",value:function(){var t=this;console.log("event"),this.galleryContainer.$node.on("click",function(e){e.target!==t.galleryPrev.element&&e.target!==t.galleryPrev.element.querySelector("button")||t.set(t.index.value-1,!0),e.target!==t.galleryNext.element&&e.target!==t.galleryNext.element.querySelector("button")||t.set(t.index.value+1,!0),e.target!==t.galleryClose.element&&e.target!==t.galleryClose.element.querySelector("button")||t.galleryContainer.$node.hasClass(t.settings.classZoom)||t.close(),(e.target.classList.contains(t.settings.galleryClassContent)||e.target.classList.contains(t.settings.galleryClassItem))&&t.close(),e.target!==t.galleryClose.element&&e.target!==t.galleryClose.element.querySelector("button")||!t.galleryContainer.$node.hasClass(t.settings.classZoom)||t.zoom(),e.target!==t.galleryZoom.element&&e.target!==t.galleryZoom.element.querySelector("button")||t.zoom(),e.target!==t.thumbnailsToggle.element&&e.target!==t.thumbnailsToggle.element.querySelector("button")||t.thumbnail(),e.target!==t.galleryProgress.element&&e.target!==t.galleryProgress.element.querySelector("button")||t.counter()}),this.thumbnailsContent.$node.on("click",function(e){e.target.classList.contains(t.settings.thumbnailsClassImage)&&t.set(t.$(e.target).index()),e.target.parentNode.classList.contains(t.settings.thumbnailsClassImage)&&t.set(t.$(e.target.parentNode).index())}),this.galleryProgress.$node.on("animationend",function(){t.set(t.index.value+1,!0)}),this.thumbnailsContent.$node.on("mousedown",function(e){t.thumbnailsContent.element.offsetWidth>window.innerWidth&&t.drag(e)}),this.thumbnailsContent.$node.on("touchstart",function(e){t.thumbnailsContent.element.offsetWidth>window.innerWidth&&t.drag(e)}),this.gallery.$node.on("touchstart",function(e){t.galleryTouchStart=e.touches[0].screenX}),this.gallery.$node.on("touchend",function(e){t.galleryTouchStart-e.changedTouches[0].screenX<-40&&t.set(t.index.value-1,!0),40<t.galleryTouchStart-e.changedTouches[0].screenX&&t.set(t.index.value+1,!0)}),this.eventResize=function(){t.index.value&&t.thumbnailTransform(t.index.value),t.galleryContainer.$node.addClass(t.settings.classResize),t.eventResizeEnd(),t.eventResponsive()},this.eventResizeEnd=compsoul.debounce(function(){t.galleryContainer.$node.removeClass(t.settings.classResize)},200),this.eventResponsive=compsoul.debounce(function(){t.responsive()},200),window.addEventListener("resize",this.eventResize),this.key()}},{key:"drag",value:function(e){var t=this;this.dragged||(this.dragged=!0,this.dragScreenX=e.screenX||e.touches[0].screenX,this.dragTranslate=this.thumbnailsContent.element.style.transform.replace(/translateX\((.+)px\)/g,"$1"),this.dragTranslate=0===this.dragTranslate||this.dragTranslate?parseInt(this.dragTranslate):0,this.dragMouseMove=compsoul.throttle(function(e){t.dragMoveScreenX=e.screenX||e.touches[0].screenX,t.thumbnailsContent.$node.addClass(t.settings.classDrag),t.dragTranslateX=t.dragTranslate+t.dragMoveScreenX-t.dragScreenX<=0?t.thumbnailsContent.element.offsetWidth+(t.dragTranslate+t.dragMoveScreenX-t.dragScreenX-window.innerWidth)<0?window.innerWidth-t.thumbnailsContent.element.offsetWidth:t.dragTranslate+t.dragMoveScreenX-t.dragScreenX:0,t.thumbnailsContent.element.style.transform="translateX("+t.dragTranslateX+"px)"},16),this.dragMouseUp=function(){t.thumbnailsContent.$node.removeClass(t.settings.classDrag),window.removeEventListener("mousemove",t.dragMouseMove),window.removeEventListener("mouseup",t.dragMouseUp),window.removeEventListener("touchmove",t.dragMouseMove),window.removeEventListener("touchend",t.dragMouseUp),t.dragged=!1},window.addEventListener("mousemove",this.dragMouseMove),window.addEventListener("mouseup",this.dragMouseUp),window.addEventListener("touchmove",this.dragMouseMove),window.addEventListener("touchend",this.dragMouseUp))}},{key:"removeEvents",value:function(){document.removeEventListener("keydown",this.keyNext),document.removeEventListener("keydown",this.keyPrev),document.removeEventListener("keydown",this.keyClose),document.removeEventListener("keydown",this.keyCounter),document.removeEventListener("keydown",this.keyThumbnails),document.removeEventListener("keydown",this.keyZoom),window.removeEventListener("resize",this.eventResize)}},{key:"customEvent",value:function(){var t=this;this.custom=new CustomEvent("compsoul-gallery"),document.addEventListener("compsoul-gallery",function(e){t.ready&&(compsoul.location(t.location),t.remove())})}},{key:"delegation",value:function(){var s=this;this.boot(),this.$("body").on("click",function(e){for(var t=s.len;t--;)if(e.target===s.$gallery[t])return e.preventDefault(),void(s.settings.album?(s.root(),s.build(!0),s.settings.overflow&&s.overflow(),s.galleryContainer.active(),s.$gallery.ajax({type:"GET",url:s.$gallery[t].dataset.url||s.$gallery[t].href||s.$gallery[t].src,success:function(e){s.boot((new DOMParser).parseFromString(e,"text/html").querySelectorAll(s.settings.selector)),s.bin(s.settings.albumStart||0,!0)}})):s.bin(t))})}},{key:"responsive",value:function(){var e,t;for(t in this.settings.responsive)if(window.innerWidth<=parseInt(t))return this.options(this.default),this.update(this.settings.responsive[t]),void(e=!0);e||this.update(this.default)}},{key:"update",value:function(e){e&&this.options(e),this.settings.zoom?this.galleryZoom.$node.removeClass(this.settings.classHidden):this.galleryZoom.$node.addClass(this.settings.classHidden),this.settings.counter?this.galleryProgress.$node.removeClass(this.settings.classHidden):this.galleryProgress.$node.addClass(this.settings.classHidden),this.settings.close?this.galleryClose.$node.removeClass(this.settings.classHidden):this.galleryClose.$node.addClass(this.settings.classHidden),this.settings.prev?this.galleryPrev.$node.removeClass(this.settings.classHidden):this.galleryPrev.$node.addClass(this.settings.classHidden),this.settings.next?this.galleryNext.$node.removeClass(this.settings.classHidden):this.galleryNext.$node.addClass(this.settings.classHidden),this.settings.thumbnails?this.thumbnailsToggle.$node.removeClass(this.settings.classHidden):this.thumbnailsToggle.$node.addClass(this.settings.classHidden),this.settings.zoom||this.zoomOut(),this.settings.counter||this.counterStop(),this.settings.thumbnails||this.thumbnailOut(),this.nav()}},{key:"compsoul",value:(s=function(){var o=this;window.compsoul=window.compsoul||{},compsoul.bar=compsoul.bar||{},compsoul.bar.getWidth=compsoul.bar.getWidth||function(){var e=document.createElement("div"),t=document.createElement("div");return e.appendChild(t),e.style.overflowY="scroll",document.body.appendChild(e),t=e.offsetWidth-t.offsetWidth,document.body.removeChild(e),t},compsoul.bar.width=compsoul.bar.width||compsoul.bar.getWidth(),compsoul.location=compsoul.location||function(e){e?window.location.hash=e:history.replaceState("",document.title,window.location.pathname)},compsoul.throttle=compsoul.throttle||function(e,t){var s;return function(){s||(e.apply(void 0,arguments),s=setTimeout(function(){return s=!1},t))}},compsoul.debounce=compsoul.debounce||function(i,l){var a;return function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];var n=o;clearTimeout(a),a=setTimeout(function(){return i.apply(n,t)},l)}}},e.toString=function(){return s.toString()},e)},{key:"boot",value:function(e){this.$gallery=new Compsoul(e||this.settings.selector),this.len=this.$gallery.length}},{key:"options",value:function(e){return this.default||(this.default=Object.assign({},Object.assign(this.settings,e))),Object.assign(this.settings,e),this}},{key:"init",value:function(){return console.log("init"),this.customEvent(),this.compsoul(),this.delegation(),this.settings.hash&&this.hash(),this}}]),t}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdhbGxlcnkuanMiXSwibmFtZXMiOlsiR2FsbGVyeSIsInNlbGVjdG9yIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsIndpbmRvdyIsIkNvbXBzb3VsIiwialF1ZXJ5Iiwic2V0dGluZ3MiLCJnYWxsZXJ5Q2xhc3NDb250YWluZXIiLCJnYWxsZXJ5Q2xhc3NDb250ZW50IiwiZ2FsbGVyeUNsYXNzQ2xvc2UiLCJnYWxsZXJ5Q2xhc3NOZXh0IiwiZ2FsbGVyeUNsYXNzUHJvZ3Jlc3MiLCJnYWxsZXJ5Q2xhc3NJdGVtIiwiZ2FsbGVyeUNsYXNzSW1hZ2UiLCJnYWxsZXJ5Q2xhc3Nab29tIiwiZ2FsbGVyeUNsYXNzUHJldiIsImdhbGxlcnlDbGFzc0NvbW1lbnQiLCJnYWxsZXJ5Q2xhc3NGdWxsU2NyZWVuIiwidGh1bWJuYWlsc0NsYXNzQ29udGFpbmVyIiwidGh1bWJuYWlsc0NsYXNzQ29udGVudCIsInRodW1ibmFpbHNDbGFzc1RvZ2dsZSIsInRodW1ibmFpbHNDbGFzc1Nob3ciLCJ0aHVtYm5haWxzQ2xhc3NJbWFnZSIsImNsYXNzQWN0aXZlIiwiY2xhc3NJbmFjdGl2ZSIsImNsYXNzTmV4dCIsImNsYXNzUHJldiIsImNsYXNzRmFkZSIsImNsYXNzUGFzdCIsImNsYXNzUmVhZHkiLCJjbGFzc1Jlc2l6ZSIsImNsYXNzTG9hZGVyIiwiY2xhc3NMb2FkaW5nIiwiY2xhc3NMb2FkZWQiLCJjbGFzc0Vycm9yIiwiY2xhc3Nab29tIiwiY2xhc3Nab29tT3V0IiwiY2xhc3NPdmVyZmxvdyIsImNsYXNzRGlyZWN0aW9uTmV4dCIsImNsYXNzUGxheSIsImNsYXNzSGlkZGVuIiwiY2xhc3NVbnNldCIsImNsYXNzRHJhZyIsImNsYXNzTG9nbyIsImNsb3NlIiwiY2xvc2VEZWxheSIsIm5leHQiLCJwcmV2IiwiYWxidW0iLCJhbGJ1bVN0YXJ0IiwicHJlbG9hZCIsImNvdW50ZXIiLCJ6b29tIiwiem9vbURlbGF5Iiwib3ZlcmZsb3ciLCJoYXNoIiwidGh1bWJuYWlscyIsImtleU5leHQiLCJrZXlDbG9zZSIsImtleVpvb20iLCJsaWJyYXJ5IiwiTGlicmFyeSIsIiRub2RlIiwiZ2FsbGVyeSIsImVsZW1lbnQiLCJfY3JlYXRlQ2xhc3MiLCJrZXkiLCJ2YWx1ZSIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJvZmZzZXRXaWR0aCIsInNyYyIsImltZyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZCIsIiQiLCJhdHRyIiwiJGVsZW1lbnQiLCJodG1sIiwiaGVhZCIsImZhY3RvcnkiLCJib2R5IiwiZ2FsbGVyeUNvbnRhaW5lciIsImdhbGxlcnlDb250ZW50IiwiZ2FsbGVyeVpvb20iLCJnYWxsZXJ5RnVsbFNjcmVlbiIsImdhbGxlcnlQcm9ncmVzcyIsImdhbGxlcnlDbG9zZSIsImdhbGxlcnlQcmV2IiwiZ2FsbGVyeU5leHQiLCJ0aHVtYm5haWxzQ29udGFpbmVyIiwidGh1bWJuYWlsc0NvbnRlbnQiLCJ0aHVtYm5haWxzVG9nZ2xlIiwic3R5bGUiLCJjcmVhdGVUZXh0Tm9kZSIsImNvbXBzb3VsIiwiYmFyIiwid2lkdGgiLCJnYWxsZXJ5SW1hZ2VzIiwiZ2FsbGVyeVRodW1ibmFpbHMiLCJpbmRleCIsImNvbnRlbnQiLCJjb21wbGVtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImluYWN0aXZlIiwiQXJyYXkiLCJsZW4iLCJwdXNoIiwibG9vcCIsImFjdGl2ZSIsIiRnYWxsZXJ5IiwiZGF0YXNldCIsImNvbW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiaW5uZXJIVE1MIiwibW9kZXJuaXplIiwib3JkZXIiLCJyZXNldCIsInBhc3QiLCJocmVmIiwiZGlyZWN0aW9uIiwiY2FsbGJhY2siLCJoYXNDbGFzcyIsInN1Y2Nlc3MiLCJkZWxheSIsIl90aGlzIiwiY2xhc3NEaXJlY3Rpb25QcmV2IiwicmVhZHkiLCJjbGFzc0Rpc29yZGVybHkiLCJlcnJvciIsImZhZGUiLCJ0aHVtYm5haWxUcmFuc2Zvcm0iLCJsb2NhdGlvbiIsImFuaW1hdGlvbiIsIm5hdiIsImxvYWQiLCJfdGhpczIiLCJsb2FkaW5nIiwiYWpheCIsInR5cGUiLCJ1cmwiLCJyb290IiwiYnVpbGQiLCJsb2FkZWQiLCJ1cGRhdGUiLCJldmVudCIsInJlc3BvbnNpdmUiLCJfdGhpczMiLCJkaXNwYXRjaEV2ZW50IiwiY3VzdG9tIiwibG9nbyIsImxlbmd0aCIsImJpbiIsInNldCIsInRodW1ibmFpbFRyYW5zbGF0ZSIsInRyYW5zZm9ybSIsInJlcGxhY2UiLCJwYXJzZUludCIsInRodW1ibmFpbFRyYW5zbGF0ZVgiLCJ6b29tSW4iLCJpbm5lcldpZHRoIiwib2Zmc2V0TGVmdCIsInNldFRpbWVvdXQiLCJ6b29tT3V0IiwiX3RoaXM0IiwiY291bnRlclN0b3AiLCJ0aHVtYm5haWxPdXQiLCJjb3VudGVyU3RhcnQiLCJ0aHVtYm5haWxJbiIsInJlbW92ZSIsImJvb3QiLCJfdGhpczUiLCJfdGhpczYiLCJrZXlQcmV2IiwiaW5jbHVkZXMiLCJjb2RlIiwia2V5Q291bnRlciIsImtleVRodW1ibmFpbHMiLCJ0b2dnbGVDbGFzcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJfdGhpczciLCJjb25zb2xlIiwibG9nIiwib24iLCJ0YXJnZXQiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsImRyYWciLCJ0b3VjaGVzIiwic2NyZWVuWCIsImdhbGxlcnlUb3VjaFN0YXJ0IiwiY2hhbmdlZFRvdWNoZXMiLCJldmVudFJlc2l6ZSIsImV2ZW50UmVzaXplRW5kIiwiZXZlbnRSZXNwb25zaXZlIiwiZGVib3VuY2UiLCJfdGhpczgiLCJkcmFnZ2VkIiwiZHJhZ1NjcmVlblgiLCJkcmFnVHJhbnNsYXRlIiwiZHJhZ01vdXNlTW92ZSIsInRocm90dGxlIiwiZHJhZ01vdmVTY3JlZW5YIiwiZHJhZ1RyYW5zbGF0ZVgiLCJkcmFnTW91c2VVcCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfdGhpczEwIiwicmVzcG9uc2UiLCJET01QYXJzZXIiLCJwYXJzZUZyb21TdHJpbmciLCJwcmV2ZW50RGVmYXVsdCIsInJhbmdlIiwib3B0aW9ucyIsImdldFdpZHRoIiwib3V0ZXIiLCJpbm5lciIsIm92ZXJmbG93WSIsImFwcGVuZENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJoaXN0b3J5IiwicGF0aG5hbWUiLCJhcHBseSIsImFyZ3VtZW50cyIsInRpbWVvdXQiLCJfbGVuIiwiYXJncyIsIl9rZXkiLCJ0aGF0IiwiX3RoaXMxMSIsInF1ZXJ5IiwiT2JqZWN0IiwiYXNzaWduIl0sIm1hcHBpbmdzIjoiMGNBQU1BLFEsV0FDSixTQUFBQSxFQUFZQyxHQUFVQyxnQkFBQUMsS0FBQUgsR0FDcEJJLE9BQU9DLFNBQVdELE9BQU9DLFVBQVlELE9BQU9FLE9BQzVDSCxLQUFLSSxTQUFXLENBQ2RDLHNCQUF1Qiw2QkFDdkJDLG9CQUFxQiwyQkFDckJDLGtCQUFtQix5QkFDbkJDLGlCQUFrQix3QkFQbEJYLGlCQVFrQix3QkFQdEJZLHFCQUFBLDRCQUFzQkMsaUJBQUEsd0JBVWxCQyxrQkFBbUIseUJBVHJCVixvQkFBa0JBLDJCQUNsQlcsaUJBQWdCLHdCQUNkUCx1QkFBdUIsK0JBRXZCRSx5QkFBbUIsdUJBQ25CQyx1QkFBa0IscUJBQ2xCSyxzQkFBa0Isb0JBQ2xCSixvQkFBb0Isa0JBQ3BCQyxxQkFBa0IsbUJBRWxCSSxZQUFBQSxrQkFDQUYsY0FBQUEsb0JBQ0FHLFVBQUFBLGdCQUVBQyxVQUFBQSxnQkFDQUMsVUFBQUEsZ0JBQ0FDLFVBQUFBLGdCQUNBQyxXQUFBQSxpQkFDQUMsWUFBQUEsa0JBRUFDLFlBQWEsa0JBQ2JDLGFBQWEsbUJBQ2JDLFlBQVcsa0JBQ1hDLFdBQVcsaUJBQ1hDLFVBQVcsZ0JBQ1hDLGFBQVcsb0JBQ1hDLGNBQVksb0JBQ1pDLG1CQUFhLDBCQUNiQyxtQkFBYSwwQkFDYkMsVUFBQUEsZ0JBQ0FDLFlBQWEsa0JBQ2JDLFdBQVksaUJBQ1pDLFVBQVcsZ0JBQ1hDLGdCQUFjLHNCQUNkQyxVQUFBQSxnQkFDQUMsU0FBQUEsRUFFQUMsT0FBQUEsRUFDQUMsV0FBVyxJQUNYQyxNQUFBQSxFQUNBQyxNQUFBQSxFQUVBQyxPQUFBQSxFQUNB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SUFBQSxJQUFBQyxFQUFBRixVQUFBdkUsT0FBQTBFLEVBQUEsSUFBQXhILE1BQUF1SCxHQUFBRSxFQUFBLEVBQUFBLEVBQUFGLEVBQUFFLElBQUFELEVBQUFDLEdBQUFKLFVBQUFJLEdBdUNMLElBQU1DLEVBQU9DLEVBdENqQmxPLGFBQUE2TixHQUNBaEksRUFBQW1FLFdBQXVCLFdBQUEsT0FBUnpDLEVBQWZvRyxNQUFBTSxFQUFBRixJQUFBckcsTSxpRUFFRSxTQUFBeUcsR0FJQWYsS0FBQUEsU0FBTUcsSUFBQUEsU0FBTlksR0FBQXBPLEtBQUFJLFNBQUFOLFVBQ0F1TixLQUFBQSxJQUFNekgsS0FBTTJILFNBQVpqRSxTLHFCQUdBL0UsU0FBQUEsR0EwQ0YsT0F6Q0V2RSxLQUFBLFVBQUFBLEtBQUEsUUFBQXFPLE9BQUFDLE9BQUEsR0FBQUQsT0FBQUMsT0FBQXRPLEtBQUFJLFNBQUFBLEtBQ0RpTyxPQVhEQyxPQUFBdE8sS0FBQUksU0FBQUEsR0FtRE9KLE8sa0JBcENQOEYsV0FNQyxPQUxDc0YsUUFBRy9ILElBQUgsUUFDRXBELEtBQUFBLGNBQ0RELEtBRkQ4RixXQUdFNEgsS0FBQUEsYUFDRDFOLEtBQUFJLFNBQUFpRCxNQUFBckQsS0FBQXFELE9BTEhyRCxXIiwiZmlsZSI6ImdhbGxlcnkubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgR2FsbGVyeSB7XG4gIGNvbnN0cnVjdG9yKHNlbGVjdG9yKSB7XG4gICAgd2luZG93LkNvbXBzb3VsID0gd2luZG93LkNvbXBzb3VsIHx8IHdpbmRvdy5qUXVlcnk7XG4gICAgdGhpcy5zZXR0aW5ncyA9IHtcbiAgICAgIGdhbGxlcnlDbGFzc0NvbnRhaW5lcjogXCJjb21wc291bC1nYWxsZXJ5LWNvbnRhaW5lclwiLFxuICAgICAgZ2FsbGVyeUNsYXNzQ29udGVudDogXCJjb21wc291bC1nYWxsZXJ5LWNvbnRlbnRcIixcbiAgICAgIGdhbGxlcnlDbGFzc0Nsb3NlOiBcImNvbXBzb3VsLWdhbGxlcnktY2xvc2VcIixcbiAgICAgIGdhbGxlcnlDbGFzc05leHQ6IFwiY29tcHNvdWwtZ2FsbGVyeS1uZXh0XCIsXG4gICAgICBnYWxsZXJ5Q2xhc3NQcmV2OiBcImNvbXBzb3VsLWdhbGxlcnktcHJldlwiLFxuICAgICAgZ2FsbGVyeUNsYXNzUHJvZ3Jlc3M6IFwiY29tcHNvdWwtZ2FsbGVyeS1wcm9ncmVzc1wiLFxuICAgICAgZ2FsbGVyeUNsYXNzSXRlbTogXCJjb21wc291bC1nYWxsZXJ5LWl0ZW1cIixcbiAgICAgIGdhbGxlcnlDbGFzc0ltYWdlOiBcImNvbXBzb3VsLWdhbGxlcnktaW1hZ2VcIixcbiAgICAgIGdhbGxlcnlDbGFzc0NvbW1lbnQ6IFwiY29tcHNvdWwtZ2FsbGVyeS1jb21tZW50XCIsXG4gICAgICBnYWxsZXJ5Q2xhc3Nab29tOiBcImNvbXBzb3VsLWdhbGxlcnktem9vbVwiLFxuICAgICAgZ2FsbGVyeUNsYXNzRnVsbFNjcmVlbjogXCJjb21wc291bC1nYWxsZXJ5LWZ1bGwtc2NyZWVuXCIsXG5cbiAgICAgIHRodW1ibmFpbHNDbGFzc0NvbnRhaW5lcjogXCJ0aHVtYm5haWxzLWNvbnRhaW5lclwiLFxuICAgICAgdGh1bWJuYWlsc0NsYXNzQ29udGVudDogXCJ0aHVtYm5haWxzLWNvbnRlbnRcIixcbiAgICAgIHRodW1ibmFpbHNDbGFzc1RvZ2dsZTogXCJ0aHVtYm5haWxzLXRvZ2dsZVwiLFxuICAgICAgdGh1bWJuYWlsc0NsYXNzU2hvdzogXCJ0aHVtYm5haWxzLXNob3dcIixcbiAgICAgIHRodW1ibmFpbHNDbGFzc0ltYWdlOiBcInRodW1ibmFpbHMtaW1hZ2VcIixcblxuICAgICAgY2xhc3NBY3RpdmU6IFwiY29tcHNvdWwtYWN0aXZlXCIsXG4gICAgICBjbGFzc0luYWN0aXZlOiBcImNvbXBzb3VsLWluYWN0aXZlXCIsXG4gICAgICBjbGFzc05leHQ6IFwiY29tcHNvdWwtbmV4dFwiLFxuICAgICAgY2xhc3NQcmV2OiBcImNvbXBzb3VsLXByZXZcIixcbiAgICAgIGNsYXNzRmFkZTogXCJjb21wc291bC1mYWRlXCIsXG4gICAgICBjbGFzc1Bhc3Q6IFwiY29tcHNvdWwtcGFzdFwiLFxuICAgICAgY2xhc3NSZWFkeTogXCJjb21wc291bC1yZWFkeVwiLFxuICAgICAgY2xhc3NSZXNpemU6IFwiY29tcHNvdWwtcmVzaXplXCIsXG4gICAgICBjbGFzc0xvYWRlcjogXCJjb21wc291bC1sb2FkZXJcIixcbiAgICAgIGNsYXNzTG9hZGluZzogXCJjb21wc291bC1sb2FkaW5nXCIsXG4gICAgICBjbGFzc0xvYWRlZDogXCJjb21wc291bC1sb2FkZWRcIixcbiAgICAgIGNsYXNzRXJyb3I6IFwiY29tcHNvdWwtZXJyb3JcIixcbiAgICAgIGNsYXNzWm9vbTogXCJjb21wc291bC16b29tXCIsXG4gICAgICBjbGFzc1pvb21PdXQ6IFwiY29tcHNvdWwtem9vbS1vdXRcIixcbiAgICAgIGNsYXNzT3ZlcmZsb3c6IFwiY29tcHNvdWwtb3ZlcmZsb3dcIixcbiAgICAgIGNsYXNzRGlyZWN0aW9uTmV4dDogXCJjb21wc291bC1kaXJlY3Rpb24tbmV4dFwiLFxuICAgICAgY2xhc3NEaXJlY3Rpb25QcmV2OiBcImNvbXBzb3VsLWRpcmVjdGlvbi1wcmV2XCIsXG4gICAgICBjbGFzc1BsYXk6IFwiY29tcHNvdWwtcGxheVwiLFxuICAgICAgY2xhc3NIaWRkZW46IFwiY29tcHNvdWwtaGlkZGVuXCIsXG4gICAgICBjbGFzc1Vuc2V0OiBcImNvbXBzb3VsLXVuc2V0XCIsXG4gICAgICBjbGFzc0RyYWc6IFwiY29tcHNvdWwtZHJhZ1wiLFxuICAgICAgY2xhc3NEaXNvcmRlcmx5OiBcImNvbXBzb3VsLWRpc29yZGVybHlcIixcbiAgICAgIGNsYXNzTG9nbzogXCJjb21wc291bC1sb2dvXCIsXG4gICAgICBzZWxlY3Rvcjogc2VsZWN0b3IsXG5cbiAgICAgIGNsb3NlOiB0cnVlLFxuICAgICAgY2xvc2VEZWxheTogMjAwLFxuICAgICAgbmV4dDogdHJ1ZSxcbiAgICAgIHByZXY6IHRydWUsXG5cbiAgICAgIGFsYnVtOiBmYWxzZSxcbiAgICAgIGFsYnVtU3RhcnQ6IDAsXG4gICAgICBwcmVsb2FkOiBmYWxzZSxcbiAgICAgIGNvdW50ZXI6IHRydWUsXG4gICAgICBsb29wOiB0cnVlLFxuICAgICAgem9vbTogdHJ1ZSxcbiAgICAgIHpvb21EZWxheTogNDAwLFxuICAgICAgb3ZlcmZsb3c6IHRydWUsXG4gICAgICBoYXNoOiB0cnVlLFxuICAgICAgdGh1bWJuYWlsczogdHJ1ZSxcblxuICAgICAga2V5TmV4dDogW1wiQXJyb3dSaWdodFwiLCBcImRcIiwgXCJLZXlEXCJdLFxuICAgICAga2V5UHJldjogW1wiQXJyb3dMZWZ0XCIsIFwiYVwiLCBcIktleUFcIl0sXG4gICAgICBrZXlDbG9zZTogW1wiRXNjYXBlXCIsIFwieFwiLCBcIktleVhcIl0sXG4gICAgICBrZXlDb3VudGVyOiBbXCJTcGFjZVwiXSxcbiAgICAgIGtleVRodW1ibmFpbHM6IFtcInRcIiwgXCJLZXlUXCJdLFxuICAgICAga2V5Wm9vbTogW1wielwiLCBcIktleVpcIl0sXG5cbiAgICAgIHJlc3BvbnNpdmU6IHt9XG4gICAgfVxuXG4gICAgdGhpcy5sb2dvID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgNTg0LjcgMTgwXCI+JyArXG4gICAgICAnPHBhdGggZD1cIk01NTkuNCwxNy4xYzAtMC40LTAuMS0wLjktMC4xLTEuM2MtMC42LTIuNi0yLjktNC42LTUuNy00LjZjLTAuNywwLTEuNCwwLjEtMiwwLjRjLTAuMywwLjItMC43LDAuMy0xLjEsMC41Yy0xNy45LDguNi02Ni45LDMxLjMtMTAxLjQsNDAuN2MtNzUuMywyMC42LTg4LjgsMjEuNi04OS4zLDIxLjdjLTEuOCwwLjYtMy4zLDEuOC00LjMsMy40Yy0wLjYsMS4xLTAuOSwyLjMtMC45LDMuNmMwLDEuOSwwLjcsMy42LDEuOSw0LjljMC4xLDAuMSwwLjIsMC4yLDAuMywwLjRjMC4zLDAuMywwLjUsMC43LDAuOCwxYzAuMSwwLjIsMC4zLDAuNCwwLjQsMC41YzIuMSwyLjYsMy45LDUuMyw1LjYsOC4zYzAsMC4xLDAuMSwwLjIsMC4xLDAuMmMwLjYsMS4xLDEuMSwyLjEsMS42LDMuMmMwLjIsMC40LDAuNCwwLjksMC42LDEuM2MyLDQuMywzLjQsOC44LDQuNCwxMy42YzAuNiwzLjMsMSw2LjgsMS4xLDEwLjNjMCwwLjQsMCwwLjcsMCwxLjFjMCwwLjQsMCwwLjgsMCwxLjJjMCwwLjQsMCwwLjcsMCwxLjFjLTAuMiw0LjctMC45LDkuMy0yLjEsMTMuNmMtMS4zLDQuNy0zLjEsOS4yLTUuNCwxMy4zbDAsMGMwLDAsMCwwLjEtMC4xLDAuMWMwLDAuMS0wLjEsMC4xLTAuMSwwLjJjLTAuMywwLjUtMC42LDEtMC45LDEuNWMtMC4xLDAuMS0wLjIsMC4zLTAuMywwLjRjLTEuOCwzLjEtNi40LDguOC04LjksMTEuN2MtMC4xLDAuMS0wLjIsMC4yLTAuMiwwLjNsMC41LTAuM2MwLDAsMTEuMi03LjYsMjYuNi0xMi42YzE2LjItNSwzNi40LTEsNTEuOS0xLjJjMTkuOS0wLjMsMzcuNC0yLjksNDcuOS05LjRjNS44LTMuNiw5LjUtOC4xLDEwLjItMTMuMWMwLjEtMC40LDAuMS0wLjksMC4xLTEuNGMwLDAsMC0wLjEsMC0wLjFjLTAuMy0xLjItMS4zLTItMi41LTIuMmwtMC42LDBjMCwwLTEwLjksMS4zLTE1LjEsMS4zYy00LjIsMC0xMi0wLjktMTItMC45YzI0LjYtMy42LDQ1LjgtMTAuMiw1OC41LTIxLjFjNy43LTYuNiwxMi4zLTE0LjMsMTIuNy0yMi4yYzAtMC4zLDAtMC43LDAtMWMwLTAuMiwwLTAuNC0wLjEtMC42Yy0wLjQtMS45LTIuMS0zLjMtNC4xLTMuNGwtMS4xLDAuMWMwLDAtMTMuMSwzLjYtMjEuMiw0LjZjLTguMSwwLjktMTkuNCwwLjgtMTkuNCwwLjhjMjguMi0xMC43LDUxLjgtMjQuMyw2NC00MS4yQzU1Ni44LDM2LjUsNTYwLjIsMjYuNSw1NTkuNCwxNy4xelwiLz4nICtcbiAgICAgICc8cGF0aCBkPVwiTTMzNSwxMTBjLTAuMS0wLjItMC4yLTAuNS0wLjQtMC43YzAsMCwwLDAsMC0wLjFjLTEuMi0yLjItMi43LTQuMi00LjQtNS45Yy02LjktNy4zLTE4LjUtMTAuOC0yOC45LTkuMmMtMi45LDAuNC0zLjcsMi4yLTYuNCwzLjdjLTIuNCwxLjQtNSwyLjMtNy42LDIuOWMtOS44LDIuMi0yMC0wLjgtMjcuMS03LjljLTAuMi0wLjItMC40LTAuNC0wLjUtMC41Yy0xLjctMS43LTMuMS0zLjctNC4zLTUuOWMtMS4yLTIuMi0yLjEtNC42LTIuNy02LjljLTAuNC0xLjUtMC43LTMtMC44LTQuNXYtMS4zdi0xLjh2LTIuM2MwLjEtMS4zLDAuMy0yLjUsMC42LTMuN2MxLjItNS4zLDMuOS0xMC4yLDcuOC0xNC4xYzEuOS0xLjksNC0zLjYsNi41LTQuOWMxMS42LTYuNCwyNS43LTQsMzQuNiw0LjlsMjAuNi0yMC42Yy0xNy45LTE3LjktNDYuMS0yMi42LTY5LjMtOS44Yy0xMC40LDUuOC0xOC40LDE0LjMtMjMuNSwyNC4xYy0xLjYsMy4xLTMsNi40LTQsOS43Yy0wLjksMi45LTEuNiw1LjktMiw4LjljLTAuMSwwLjQtMC4xLDAuOC0wLjIsMS4yYzAsMC0wLjEsMC40LTAuMSwwLjVjLTAuOSwzLjEtMi41LDcuMS03LjEsN2MtMC4yLDAtMS44LTAuMy0yLjQtMC40Yy00LTAuOC05LjItMi0xNi4xLTMuNmMtMTMuNC0zLjItMzMuMi04LjItNjEuOS0xNkMxMDEsNDMuMiw1MiwyMC41LDM0LjIsMTEuOWMtMC40LTAuMi0wLjctMC4zLTEuMS0wLjVjLTAuNi0wLjItMS4zLTAuNC0yLTAuNGMtMi44LDAtNS4xLDItNS43LDQuNmMtMC4xLDAuNC0wLjEsMC45LTAuMSwxLjNjLTAuOSw5LjQsMi42LDE5LjQsOS40LDI4LjljNy41LDEwLjUsMTkuNSwxOS43LDM0LjEsMjcuN2MxLjQsMC44LDIuOSwxLjYsNC40LDIuM2MzLjUsMS44LDcuMiwzLjUsMTAuOSw1LjJjNC43LDIuMSw5LjUsNC4xLDE0LjUsNmMwLDAtMTEuMywwLjItMTkuNC0wLjhjLTguMS0wLjktMjEuMi00LjYtMjEuMi00LjZsLTEuMS0wLjFjLTEuNiwwLTIuOSwwLjktMy43LDIuMmMtMC4yLDAuNC0wLjQsMC44LTAuNSwxLjJjMCwwLjIsMCwwLjQtMC4xLDAuNmMwLDAuMywwLDAuNywwLDFjMC40LDgsNSwxNS42LDEyLjcsMjIuMmMxMi43LDEwLjksMzQsMTcuNSw1OC41LDIxLjFjMCwwLTcuOCwwLjktMTIsMC45cy0xNS4xLTEuMy0xNS4xLTEuM2wtMC42LDBjLTEuMiwwLjEtMi4yLDEtMi41LDIuMmMwLDAsMCwwLjEsMCwwLjFjMCwwLjUsMCwwLjksMC4xLDEuNGMwLjYsNC4zLDMuNCw4LjIsNy44LDExLjVjMC43LDAuNSwxLjUsMS4xLDIuMywxLjZjMTAuNSw2LjUsMjgsOS4xLDQ3LjksOS40YzguMiwwLjEsNDEuNy0yLDQ4LjUtMmM3NC43LDAsNzEuNSw5LjUsNzEuNSwxMy42YzAsMC45LTAuMiwxLjgtMC41LDIuNmw1LjUtNy45bDIuNy0zLjlsOS4zLTEzLjRjOSw4LjQsMjIuNywxMC41LDM0LjEsNC4zYzIuOC0xLjYsNS4zLTMuNSw3LjQtNS44YzMuNi00LDYuMS04LjgsNy4xLTE0QzMzOC45LDEyMi44LDMzOC4yLDExNi4xLDMzNSwxMTB6XCIvPicgK1xuICAgICc8L3N2Zz4nLFxuXG4gICAgdGhpcy5saWJyYXJ5ID0gY2xhc3MgTGlicmFyeSB7XG4gICAgICBjb25zdHJ1Y3Rvcigkbm9kZSwgZ2FsbGVyeSkge1xuICAgICAgICB0aGlzLiRub2RlID0gJG5vZGU7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IHRoaXMuJG5vZGVbMF07XG4gICAgICAgIHRoaXMuZ2FsbGVyeSA9IGdhbGxlcnk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBnYWxsZXJ5LnNldHRpbmdzO1xuICAgICAgfVxuXG4gICAgICAkKHNlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29tcHNvdWwoc2VsZWN0b3IpO1xuICAgICAgfVxuXG4gICAgICBhY3RpdmUoKSB7XG4gICAgICAgIHRoaXMuJG5vZGUuYWRkQ2xhc3ModGhpcy5zZXR0aW5ncy5jbGFzc0FjdGl2ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICBpbmFjdGl2ZSgpIHtcbiAgICAgICAgdGhpcy4kbm9kZS5yZW1vdmVDbGFzcyh0aGlzLnNldHRpbmdzLmNsYXNzQWN0aXZlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIG5leHQoKSB7XG4gICAgICAgIHRoaXMuJG5vZGUuYWRkQ2xhc3ModGhpcy5zZXR0aW5ncy5jbGFzc05leHQpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgcHJldigpIHtcbiAgICAgICAgdGhpcy4kbm9kZS5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLmNsYXNzUHJldik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICBmYWRlKCkge1xuICAgICAgICB0aGlzLiRub2RlLmFkZENsYXNzKHRoaXMuc2V0dGluZ3MuY2xhc3NGYWRlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIHBhc3QoKSB7XG4gICAgICAgIHRoaXMuJG5vZGUuYWRkQ2xhc3ModGhpcy5zZXR0aW5ncy5jbGFzc1Bhc3QpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgcmVhZHkoKSB7XG4gICAgICAgIHRoaXMuJG5vZGUuYWRkQ2xhc3ModGhpcy5zZXR0aW5ncy5jbGFzc1JlYWR5KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzLiRub2RlLnJlbW92ZUNsYXNzKHRoaXMuc2V0dGluZ3MuY2xhc3NBY3RpdmUgKyBcIiBcIiArIHRoaXMuc2V0dGluZ3MuY2xhc3NOZXh0ICsgXCIgXCIgKyB0aGlzLnNldHRpbmdzLmNsYXNzUHJldiArIFwiIFwiICsgdGhpcy5zZXR0aW5ncy5jbGFzc0ZhZGUgKyBcIiBcIiArIHRoaXMuc2V0dGluZ3MuY2xhc3NQYXN0KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIGxvYWRpbmcoKSB7XG4gICAgICAgIHRoaXMuJG5vZGUuYWRkQ2xhc3ModGhpcy5zZXR0aW5ncy5jbGFzc0xvYWRpbmcpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgbG9hZGVkKCkge1xuICAgICAgICB0aGlzLiRub2RlLnJlbW92ZUNsYXNzKHRoaXMuc2V0dGluZ3MuY2xhc3NMb2FkaW5nKS5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLmNsYXNzTG9hZGVkKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIGFuaW1hdGlvbigpIHtcbiAgICAgICAgdm9pZCB0aGlzLmVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICBlcnJvcigpIHtcbiAgICAgICAgdGhpcy4kbm9kZS5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLmNsYXNzRXJyb3IpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgaW1nKHNyYykge1xuICAgICAgICBsZXQgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAgICAgdGhpcy4kbm9kZS5hcHBlbmQodGhpcy4kKGltZykuYXR0cigoc3JjKSA/IFwic3JjXCIgOiBcImFsdFwiLCAoc3JjKSA/IHNyYyA6IFwibm9uZVwiKVswXSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gICQoc2VsZWN0b3IpIHtcbiAgICByZXR1cm4gbmV3IENvbXBzb3VsKHNlbGVjdG9yKTtcbiAgfVxuXG4gIGZhY3RvcnkoJGVsZW1lbnQpIHtcbiAgICByZXR1cm4gbmV3IHRoaXMubGlicmFyeSgkZWxlbWVudCwgdGhpcyk7XG4gIH1cblxuICByb290KCkge1xuICAgIHRoaXMuaHRtbCA9IHRoaXMuZmFjdG9yeSh0aGlzLiQoXCJodG1sXCIpKTtcbiAgICB0aGlzLmhlYWQgPSB0aGlzLmZhY3RvcnkodGhpcy4kKFwiaGVhZFwiKSk7XG4gICAgdGhpcy5ib2R5ID0gdGhpcy5mYWN0b3J5KHRoaXMuJChcImJvZHlcIikpO1xuICAgIHRoaXMuZ2FsbGVyeUNvbnRhaW5lciA9IHRoaXMuZmFjdG9yeSh0aGlzLiQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSkuYWRkQ2xhc3ModGhpcy5zZXR0aW5ncy5nYWxsZXJ5Q2xhc3NDb250YWluZXIpKTtcbiAgICB0aGlzLmdhbGxlcnlDb250ZW50ID0gdGhpcy5mYWN0b3J5KHRoaXMuJChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKS5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLmdhbGxlcnlDbGFzc0NvbnRlbnQpKTtcbiAgICB0aGlzLmdhbGxlcnlab29tID0gdGhpcy5mYWN0b3J5KHRoaXMuJChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKS5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLmdhbGxlcnlDbGFzc1pvb20pKTtcbiAgICB0aGlzLmdhbGxlcnlGdWxsU2NyZWVuID0gdGhpcy5mYWN0b3J5KHRoaXMuJChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKS5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLmdhbGxlcnlDbGFzc0Z1bGxTY3JlZW4pKTtcbiAgICB0aGlzLmdhbGxlcnlQcm9ncmVzcyA9IHRoaXMuZmFjdG9yeSh0aGlzLiQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSkuYWRkQ2xhc3ModGhpcy5zZXR0aW5ncy5nYWxsZXJ5Q2xhc3NQcm9ncmVzcykpO1xuICAgIHRoaXMuZ2FsbGVyeUNsb3NlID0gdGhpcy5mYWN0b3J5KHRoaXMuJChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKS5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLmdhbGxlcnlDbGFzc0Nsb3NlKSk7XG4gICAgdGhpcy5nYWxsZXJ5UHJldiA9IHRoaXMuZmFjdG9yeSh0aGlzLiQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSkuYWRkQ2xhc3ModGhpcy5zZXR0aW5ncy5nYWxsZXJ5Q2xhc3NQcmV2KSk7XG4gICAgdGhpcy5nYWxsZXJ5TmV4dCA9IHRoaXMuZmFjdG9yeSh0aGlzLiQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSkuYWRkQ2xhc3ModGhpcy5zZXR0aW5ncy5nYWxsZXJ5Q2xhc3NOZXh0KSk7XG4gICAgdGhpcy50aHVtYm5haWxzQ29udGFpbmVyID0gdGhpcy5mYWN0b3J5KHRoaXMuJChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKS5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLnRodW1ibmFpbHNDbGFzc0NvbnRhaW5lcikpO1xuICAgIHRoaXMudGh1bWJuYWlsc0NvbnRlbnQgPSB0aGlzLmZhY3RvcnkodGhpcy4kKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLmFkZENsYXNzKHRoaXMuc2V0dGluZ3MudGh1bWJuYWlsc0NsYXNzQ29udGVudCkpO1xuICAgIHRoaXMudGh1bWJuYWlsc1RvZ2dsZSA9IHRoaXMuZmFjdG9yeSh0aGlzLiQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSkuYWRkQ2xhc3ModGhpcy5zZXR0aW5ncy50aHVtYm5haWxzQ2xhc3NUb2dnbGUpKTtcblxuICAgIHRoaXMuc3R5bGUgPSB0aGlzLmZhY3RvcnkodGhpcy4kKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKSkuYXBwZW5kKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiLlwiICsgdGhpcy5zZXR0aW5ncy5jbGFzc092ZXJmbG93ICsgXCIgeyBvdmVyZmxvdzogaGlkZGVuOyBtYXJnaW4tcmlnaHQ6IFwiICsgY29tcHNvdWwuYmFyLndpZHRoICsgXCJweCB9XCIpKSk7XG4gIH1cblxuICBidWlsZChhbGJ1bSkge1xuICAgIHRoaXMuYm9keS4kbm9kZS5hcHBlbmQoXG4gICAgICB0aGlzLmdhbGxlcnlDb250YWluZXIuJG5vZGVcbiAgICAgIC5hcHBlbmQodGhpcy5nYWxsZXJ5Q29udGVudC5lbGVtZW50KVxuICAgICAgLmFwcGVuZCh0aGlzLmdhbGxlcnlGdWxsU2NyZWVuLmVsZW1lbnQpXG4gICAgICAuYXBwZW5kKHRoaXMuZ2FsbGVyeVpvb20uJG5vZGVcbiAgICAgICAgLmFwcGVuZCh0aGlzLiQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKSlcbiAgICAgICAgICAuYXBwZW5kKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpKVxuICAgICAgICBbMF0pXG4gICAgICBbMF0pXG4gICAgICAuYXBwZW5kKHRoaXMuZ2FsbGVyeVByb2dyZXNzLiRub2RlXG4gICAgICAgIC5hcHBlbmQodGhpcy4kKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIikpXG4gICAgICAgICAgLmFwcGVuZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKSlcbiAgICAgICAgWzBdKVxuICAgICAgWzBdKVxuICAgICAgLmFwcGVuZCh0aGlzLnRodW1ibmFpbHNUb2dnbGUuJG5vZGVcbiAgICAgICAgLmFwcGVuZCh0aGlzLiQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKSlcbiAgICAgICAgICAuYXBwZW5kKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpKVxuICAgICAgICBbMF0pXG4gICAgICBbMF0pXG4gICAgICAuYXBwZW5kKHRoaXMuZ2FsbGVyeUNsb3NlLiRub2RlXG4gICAgICAgIC5hcHBlbmQodGhpcy4kKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIikpXG4gICAgICAgICAgLmFwcGVuZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKSlcbiAgICAgICAgWzBdKVxuICAgICAgWzBdKVxuICAgICAgLmFwcGVuZCh0aGlzLmdhbGxlcnlQcmV2LiRub2RlXG4gICAgICAgIC5hcHBlbmQodGhpcy4kKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIikpXG4gICAgICAgICAgLmFwcGVuZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKSlcbiAgICAgICAgWzBdKVxuICAgICAgWzBdKVxuICAgICAgLmFwcGVuZCh0aGlzLmdhbGxlcnlOZXh0LiRub2RlXG4gICAgICAgIC5hcHBlbmQodGhpcy4kKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIikpXG4gICAgICAgICAgLmFwcGVuZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKSlcbiAgICAgICAgWzBdKVxuICAgICAgWzBdKVxuICAgICAgLmFwcGVuZCh0aGlzLiQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIikpXG4gICAgICAgIC5hdHRyKFwidGl0bGVcIiwgXCJUd29yenlteSBwcm9mZXNqb25hbG5lIHNlcndpc3kgaW50ZXJuZXRvd2UsIHN0cm9ueSB3d3csIHNrbGVweSBpbnRlcm5ldG93ZSBvcmF6IHByb2pla3R5IGdyYWZpY3puZS5cIilcbiAgICAgICAgLmF0dHIoXCJocmVmXCIsIFwiaHR0cDovL2NvbXBzb3VsLnBsXCIpXG4gICAgICAgIC5hdHRyKFwidGFyZ2V0XCIsIFwiX2JsYW5rXCIpXG4gICAgICAgIC5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLmNsYXNzTG9nbylcbiAgICAgICAgLmh0bWwodGhpcy5sb2dvKVxuICAgICAgWzBdKVxuICAgICAgLmFwcGVuZCh0aGlzLnRodW1ibmFpbHNDb250YWluZXIuJG5vZGVcbiAgICAgICAgLmFwcGVuZCh0aGlzLnRodW1ibmFpbHNDb250ZW50LmVsZW1lbnQpXG4gICAgICBbMF0pXG4gICAgWzBdKTtcblxuICAgIGlmKCFhbGJ1bSkgdGhpcy5jb250ZW50KCk7XG5cbiAgfVxuXG4gIGNvbnRlbnQoKSB7XG4gICAgdGhpcy5jb21wbGVtZW50KCk7XG4gICAgdGhpcy5nYWxsZXJ5ID0gdGhpcy5mYWN0b3J5KHRoaXMuJCh0aGlzLmdhbGxlcnlDb250ZW50LmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5cIiArIHRoaXMuc2V0dGluZ3MuZ2FsbGVyeUNsYXNzSXRlbSkpKTtcbiAgICB0aGlzLnRodW1ibmFpbHMgPSB0aGlzLmZhY3RvcnkodGhpcy4kKHRoaXMudGh1bWJuYWlsc0NvbnRlbnQuZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLlwiICsgdGhpcy5zZXR0aW5ncy50aHVtYm5haWxzQ2xhc3NJbWFnZSkpKTtcbiAgfVxuXG4gIGNvbXBsZW1lbnQoKSB7XG4gICAgdGhpcy5nYWxsZXJ5SW1hZ2VzID0gbmV3IEFycmF5KCk7XG4gICAgdGhpcy5nYWxsZXJ5VGh1bWJuYWlscyA9IG5ldyBBcnJheSgpO1xuXG4gICAgZm9yKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5sZW47IGluZGV4KyspIHtcbiAgICAgIHRoaXMuZ2FsbGVyeUNvbnRlbnQuJG5vZGUuYXBwZW5kKFxuICAgICAgICB0aGlzLmdhbGxlcnlJbWFnZXNbdGhpcy5nYWxsZXJ5SW1hZ2VzLnB1c2goXG4gICAgICAgICAgdGhpcy5mYWN0b3J5KHRoaXMuJChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKVxuICAgICAgICAgICAgLmFkZENsYXNzKHRoaXMuc2V0dGluZ3MuZ2FsbGVyeUNsYXNzSXRlbSlcbiAgICAgICAgICAgIC5hcHBlbmQodGhpcy4kKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpXG4gICAgICAgICAgICAuYWRkQ2xhc3ModGhpcy5zZXR0aW5ncy5nYWxsZXJ5Q2xhc3NJbWFnZSlcbiAgICAgICAgICAgICAgLmFwcGVuZCh0aGlzLiQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSlcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3ModGhpcy5zZXR0aW5ncy5nYWxsZXJ5Q2xhc3NDb21tZW50ICsgXCIgXCIgKyAoKHRoaXMuJGdhbGxlcnlbaW5kZXhdLmRhdGFzZXQuY29tbWVudCB8fCB0aGlzLiRnYWxsZXJ5W2luZGV4XS5xdWVyeVNlbGVjdG9yKFwiLlwiICsgdGhpcy5zZXR0aW5ncy5nYWxsZXJ5Q2xhc3NDb21tZW50KSkgPyB0aGlzLnNldHRpbmdzLmNsYXNzQWN0aXZlIDogdGhpcy5zZXR0aW5ncy5jbGFzc0luYWN0aXZlKSlcbiAgICAgICAgICAgICAgICAuaHRtbCgodGhpcy4kZ2FsbGVyeVtpbmRleF0uZGF0YXNldC5jb21tZW50KSA/IHRoaXMuJGdhbGxlcnlbaW5kZXhdLmRhdGFzZXQuY29tbWVudCA6ICh0aGlzLiRnYWxsZXJ5W2luZGV4XS5xdWVyeVNlbGVjdG9yKFwiLlwiICsgdGhpcy5zZXR0aW5ncy5nYWxsZXJ5Q2xhc3NDb21tZW50KSkgPyB0aGlzLiRnYWxsZXJ5W2luZGV4XS5xdWVyeVNlbGVjdG9yKFwiLlwiICsgdGhpcy5zZXR0aW5ncy5nYWxsZXJ5Q2xhc3NDb21tZW50KS5pbm5lckhUTUwgOiBcIiBcIilcbiAgICAgICAgICAgICAgWzBdKVxuICAgICAgICAgICAgWzBdKVxuICAgICAgICAgICAgLmFwcGVuZCh0aGlzLiQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIikpXG4gICAgICAgICAgICAuYWRkQ2xhc3ModGhpcy5zZXR0aW5ncy5jbGFzc0xvYWRlcilbMF0pXG4gICAgICAgICAgKVxuICAgICAgICApIC0gMV0uZWxlbWVudFxuICAgICAgKTtcbiAgICAgIHRoaXMudGh1bWJuYWlsc0NvbnRlbnQuJG5vZGUuYXBwZW5kKFxuICAgICAgICB0aGlzLmdhbGxlcnlUaHVtYm5haWxzW3RoaXMuZ2FsbGVyeVRodW1ibmFpbHMucHVzaChcbiAgICAgICAgICB0aGlzLmZhY3RvcnkodGhpcy4kKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpXG4gICAgICAgICAgICAuYWRkQ2xhc3ModGhpcy5zZXR0aW5ncy50aHVtYm5haWxzQ2xhc3NJbWFnZSlcbiAgICAgICAgICAgIC5hcHBlbmQodGhpcy5mYWN0b3J5KHRoaXMuJChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpKVxuICAgICAgICAgICAgICAuYXBwZW5kKHRoaXMuJChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKSlcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3ModGhpcy5zZXR0aW5ncy5jbGFzc0xvYWRlcilcbiAgICAgICAgICAgICAgWzBdKVxuICAgICAgICAgICAgWzBdKS5pbWcodGhpcy4kZ2FsbGVyeVtpbmRleF0uZGF0YXNldC50aHVtYm5haWwgfHwgdGhpcy4kZ2FsbGVyeVtpbmRleF0uc3JjIHx8ICh0aGlzLiRnYWxsZXJ5W2luZGV4XS5xdWVyeVNlbGVjdG9yKFwiaW1nXCIpKSA/IHRoaXMuJGdhbGxlcnlbaW5kZXhdLnF1ZXJ5U2VsZWN0b3IoXCJpbWdcIikuc3JjIDogKHRoaXMuJGdhbGxlcnlbaW5kZXhdKSA/IHRoaXMuJGdhbGxlcnlbaW5kZXhdLmhyZWYgOiBmYWxzZSkuJG5vZGUpXG4gICAgICAgICAgKVxuICAgICAgICApIC0gMV0uZWxlbWVudFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBtb2Rlcm5pemUoaW5kZXgpIHtcbiAgICB0aGlzLmluZGV4ID0gdGhpcy5pbmRleCB8fCB7fTtcbiAgICB0aGlzLmluZGV4LmRpcmVjdGlvbiA9ICh0aGlzLmluZGV4LnZhbHVlID4gaW5kZXgpID8gMSA6IDA7XG4gICAgdGhpcy5pbmRleC5wYXN0ID0gdGhpcy5pbmRleC52YWx1ZTtcbiAgICB0aGlzLmluZGV4LnZhbHVlID0gKHRoaXMuc2V0dGluZ3MubG9vcCkgPyAoaW5kZXggPj0gdGhpcy5sZW4pID8gMCA6IChpbmRleCA8IDApID8gdGhpcy5sZW4gLSAxIDogaW5kZXggOiAoaW5kZXggPj0gdGhpcy5sZW4pID8gdGhpcy5sZW4gLSAxIDogKGluZGV4IDwgMCkgPyAwIDogaW5kZXg7XG4gICAgdGhpcy5pbmRleC5uZXh0ID0gKHRoaXMuaW5kZXgudmFsdWUgKyAxID49IHRoaXMubGVuKSA/IDAgOiB0aGlzLmluZGV4LnZhbHVlICsgMTtcbiAgICB0aGlzLmluZGV4LnByZXYgPSAodGhpcy5pbmRleC52YWx1ZSAtIDEgPCAwKSA/IHRoaXMubGVuIC0gMSA6IHRoaXMuaW5kZXgudmFsdWUgLSAxO1xuICB9XG5cbiAgbmF2KCkge1xuICAgIGlmKCghdGhpcy5zZXR0aW5ncy5sb29wICYmIHRoaXMuaW5kZXgudmFsdWUgPT09IDApIHx8ICh0aGlzLmxlbiA8PSAxKSkge1xuICAgICAgdGhpcy5nYWxsZXJ5UHJldi5pbmFjdGl2ZSgpO1xuICAgICAgaWYodGhpcy5zZXR0aW5ncy5jb3VudGVyKSB0aGlzLmdhbGxlcnlQcm9ncmVzcy4kbm9kZS5yZW1vdmVDbGFzcyh0aGlzLnNldHRpbmdzLmNsYXNzQWN0aXZlKS5yZW1vdmVDbGFzcyh0aGlzLnNldHRpbmdzLmNsYXNzUGxheSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZ2FsbGVyeVByZXYuYWN0aXZlKCk7XG4gICAgfVxuICAgIGlmKCghdGhpcy5zZXR0aW5ncy5sb29wICYmIHRoaXMuaW5kZXgudmFsdWUgPT09IHRoaXMubGVuIC0gMSkgfHwgKHRoaXMubGVuIDw9IDEpKSB7XG4gICAgICB0aGlzLmdhbGxlcnlOZXh0LmluYWN0aXZlKCk7XG4gICAgICBpZih0aGlzLnNldHRpbmdzLmNvdW50ZXIpIHRoaXMuZ2FsbGVyeVByb2dyZXNzLiRub2RlLnJlbW92ZUNsYXNzKHRoaXMuc2V0dGluZ3MuY2xhc3NBY3RpdmUpLnJlbW92ZUNsYXNzKHRoaXMuc2V0dGluZ3MuY2xhc3NQbGF5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5nYWxsZXJ5TmV4dC5hY3RpdmUoKTtcbiAgICB9XG4gIH1cblxuICBzZXQoaW5kZXgsIG9yZGVyLCBkZWxheSkge1xuICAgIHRoaXMubW9kZXJuaXplKGluZGV4KTtcbiAgICAodGhpcy5sZW4gPD0gMikgPyAgdGhpcy5nYWxsZXJ5Q29udGFpbmVyLiRub2RlLnJlbW92ZUNsYXNzKHRoaXMuc2V0dGluZ3MuY2xhc3NEaXJlY3Rpb25OZXh0KS5yZW1vdmVDbGFzcyh0aGlzLnNldHRpbmdzLmNsYXNzRGlyZWN0aW9uUHJldikgOiAodGhpcy5pbmRleC5kaXJlY3Rpb24pID8gdGhpcy5nYWxsZXJ5Q29udGFpbmVyLiRub2RlLnJlbW92ZUNsYXNzKHRoaXMuc2V0dGluZ3MuY2xhc3NEaXJlY3Rpb25OZXh0KS5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLmNsYXNzRGlyZWN0aW9uUHJldikgOiB0aGlzLmdhbGxlcnlDb250YWluZXIuJG5vZGUucmVtb3ZlQ2xhc3ModGhpcy5zZXR0aW5ncy5jbGFzc0RpcmVjdGlvblByZXYpLmFkZENsYXNzKHRoaXMuc2V0dGluZ3MuY2xhc3NEaXJlY3Rpb25OZXh0KTtcbiAgICBpZigodGhpcy5pbmRleC5wYXN0ICE9IHRoaXMuaW5kZXgudmFsdWUpIHx8ICF0aGlzLnJlYWR5KSB7XG4gICAgICAob3JkZXIpID8gdGhpcy5nYWxsZXJ5Q29udGFpbmVyLiRub2RlLnJlbW92ZUNsYXNzKHRoaXMuc2V0dGluZ3MuY2xhc3NEaXNvcmRlcmx5KSA6IHRoaXMuZ2FsbGVyeUNvbnRhaW5lci4kbm9kZS5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLmNsYXNzRGlzb3JkZXJseSk7XG4gICAgICB0aGlzLmdhbGxlcnkucmVzZXQoKTtcbiAgICAgIHRoaXMudGh1bWJuYWlscy5yZXNldCgpO1xuICAgICAgaWYoISh0aGlzLmxlbiA8PSAyKSkgdGhpcy5nYWxsZXJ5SW1hZ2VzW3RoaXMuaW5kZXgubmV4dF0ubmV4dCgpO1xuICAgICAgaWYoISh0aGlzLmxlbiA8PSAyKSkgdGhpcy5nYWxsZXJ5SW1hZ2VzW3RoaXMuaW5kZXgucHJldl0ucHJldigpO1xuICAgICAgaWYodGhpcy5sZW4gPD0gMikgdGhpcy5nYWxsZXJ5SW1hZ2VzW3RoaXMuaW5kZXgubmV4dF0uZmFkZSgpO1xuICAgICAgaWYoIW9yZGVyKSB0aGlzLmdhbGxlcnlJbWFnZXNbdGhpcy5pbmRleC5wYXN0XS5wYXN0KCk7XG4gICAgICB0aGlzLmdhbGxlcnlJbWFnZXNbdGhpcy5pbmRleC52YWx1ZV0ucmVzZXQoKS5hY3RpdmUoKTtcbiAgICAgIHRoaXMuZ2FsbGVyeVRodW1ibmFpbHNbdGhpcy5pbmRleC52YWx1ZV0ucmVzZXQoKS5hY3RpdmUoKTtcbiAgICAgIHRoaXMudGh1bWJuYWlsVHJhbnNmb3JtKHRoaXMuaW5kZXgudmFsdWUpO1xuICAgIH1cbiAgICAodGhpcy5zZXR0aW5ncy5oYXNoICYmIHRoaXMuJGdhbGxlcnlbdGhpcy5pbmRleC52YWx1ZV0uZGF0YXNldC5oYXNoKSA/IGNvbXBzb3VsLmxvY2F0aW9uKHRoaXMuJGdhbGxlcnlbdGhpcy5pbmRleC52YWx1ZV0uZGF0YXNldC5oYXNoKSA6IGNvbXBzb3VsLmxvY2F0aW9uKCk7XG4gICAgaWYodGhpcy5zZXR0aW5ncy5jb3VudGVyKSB0aGlzLmZhY3RvcnkodGhpcy5nYWxsZXJ5UHJvZ3Jlc3MuJG5vZGUuYWRkQ2xhc3ModGhpcy5zZXR0aW5ncy5jbGFzc1Vuc2V0KSkuYW5pbWF0aW9uKCkuJG5vZGUucmVtb3ZlQ2xhc3ModGhpcy5zZXR0aW5ncy5jbGFzc1Vuc2V0KTtcbiAgICB0aGlzLm5hdigpO1xuICAgIHRoaXMubG9hZCh0aGlzLmluZGV4LnZhbHVlLCAoKSA9PiB7XG4gICAgICB0aGlzLnByZWxvYWQodGhpcy5pbmRleC52YWx1ZSwgdGhpcy5pbmRleC52YWx1ZSArIDEpO1xuICAgICAgdGhpcy5wcmVsb2FkKHRoaXMuaW5kZXgudmFsdWUsIHRoaXMuaW5kZXgudmFsdWUgLSAxKTtcbiAgICB9KTtcbiAgfVxuXG4gIGxvYWQoaW5kZXgsIGNhbGxiYWNrKSB7XG4gICAgaWYoIXRoaXMuZ2FsbGVyeUltYWdlc1tpbmRleF0uJG5vZGUuaGFzQ2xhc3ModGhpcy5zZXR0aW5ncy5jbGFzc0xvYWRlZCkpIHRoaXMuZ2FsbGVyeUltYWdlc1tpbmRleF0ubG9hZGluZygpO1xuICAgIGlmKCF0aGlzLmdhbGxlcnlUaHVtYm5haWxzW2luZGV4XS4kbm9kZS5oYXNDbGFzcyh0aGlzLnNldHRpbmdzLmNsYXNzTG9hZGVkKSkgdGhpcy5nYWxsZXJ5VGh1bWJuYWlsc1tpbmRleF0ubG9hZGluZygpO1xuICAgIGlmKHRoaXMuZ2FsbGVyeUltYWdlc1tpbmRleF0uJG5vZGUuaGFzQ2xhc3ModGhpcy5zZXR0aW5ncy5jbGFzc0xvYWRlZCkgJiYgdGhpcy5nYWxsZXJ5VGh1bWJuYWlsc1tpbmRleF0uJG5vZGUuaGFzQ2xhc3ModGhpcy5zZXR0aW5ncy5jbGFzc0xvYWRlZCkpIHtcbiAgICAgIGlmKGNhbGxiYWNrICYmIHRoaXMucmVhZHkpIGNhbGxiYWNrKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuJGdhbGxlcnkuYWpheCh7XG4gICAgICB0eXBlOiBcIkdFVFwiLFxuICAgICAgdXJsOiB0aGlzLiRnYWxsZXJ5W2luZGV4XS5kYXRhc2V0LnVybCB8fCB0aGlzLiRnYWxsZXJ5W2luZGV4XS5ocmVmIHx8IHRoaXMuJGdhbGxlcnlbaW5kZXhdLnNyYyxcbiAgICAgIHN1Y2Nlc3M6ICgpID0+IHtcbiAgICAgICAgaWYoIXRoaXMuZ2FsbGVyeUltYWdlc1tpbmRleF0uJG5vZGUuaGFzQ2xhc3ModGhpcy5zZXR0aW5ncy5jbGFzc0xvYWRlZCkpIHRoaXMuZmFjdG9yeSh0aGlzLiQodGhpcy5nYWxsZXJ5SW1hZ2VzW2luZGV4XS5yZWFkeSgpLmxvYWRlZCgpLmVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5cIiArIHRoaXMuc2V0dGluZ3MuZ2FsbGVyeUNsYXNzSW1hZ2UpKSkuaW1nKHRoaXMuJGdhbGxlcnlbaW5kZXhdLmRhdGFzZXQudXJsIHx8IHRoaXMuJGdhbGxlcnlbaW5kZXhdLmhyZWYgfHwgdGhpcy4kZ2FsbGVyeVtpbmRleF0uc3JjKTtcbiAgICAgICAgaWYoIXRoaXMuZ2FsbGVyeVRodW1ibmFpbHNbaW5kZXhdLiRub2RlLmhhc0NsYXNzKHRoaXMuc2V0dGluZ3MuY2xhc3NMb2FkZWQpKSB0aGlzLmdhbGxlcnlUaHVtYm5haWxzW2luZGV4XS5yZWFkeSgpLmxvYWRlZCgpO1xuICAgICAgICBpZihjYWxsYmFjayAmJiB0aGlzLnJlYWR5KSBjYWxsYmFjaygpO1xuICAgICAgfSxcbiAgICAgIGVycm9yOiAoKSA9PiB7XG4gICAgICAgIHRoaXMuZ2FsbGVyeUltYWdlc1tpbmRleF0uZXJyb3IoKTtcbiAgICAgICAgdGhpcy5nYWxsZXJ5VGh1bWJuYWlsc1tpbmRleF0uZXJyb3IoKTtcbiAgICAgICAgaWYoY2FsbGJhY2sgJiYgdGhpcy5yZWFkeSkgY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHByZWxvYWQoaW5kZXgsIGRpcmVjdGlvbikge1xuICAgIGlmKCF0aGlzLnNldHRpbmdzLmxvb3AgJiYgKChkaXJlY3Rpb24gPiBpbmRleCkgPyBkaXJlY3Rpb24gPj0gdGhpcy5sZW4gOiBkaXJlY3Rpb24gPCAwKSkgcmV0dXJuO1xuICAgIHRoaXMubG9hZCgoZGlyZWN0aW9uID4gaW5kZXgpID8gKGRpcmVjdGlvbiA+PSB0aGlzLmxlbikgPyAwIDogZGlyZWN0aW9uIDogKGRpcmVjdGlvbiA8IDApID8gdGhpcy5sZW4gLSAxOiBkaXJlY3Rpb24sICgpID0+IHtcbiAgICAgIGlmKCF0aGlzLnNldHRpbmdzLnByZWxvYWQgfHwgKHRoaXMuc2V0dGluZ3MucHJlbG9hZCAmJiAoKGRpcmVjdGlvbiA+IGluZGV4KSA/IGRpcmVjdGlvbiArIDEgPj0gdGhpcy5sZW4gOiBkaXJlY3Rpb24gLSAxIDwgMCkpKSByZXR1cm47XG4gICAgICB0aGlzLnByZWxvYWQoZGlyZWN0aW9uLCAoZGlyZWN0aW9uID4gaW5kZXgpID8gZGlyZWN0aW9uICsgMSA6IGRpcmVjdGlvbiAtIDEpO1xuICAgIH0pO1xuICB9XG5cbiAgYmluKGluZGV4LCBhbGJ1bSkge1xuICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQodGhpcy5jdXN0b20pO1xuICAgIHRoaXMubW9kZXJuaXplKGluZGV4KTtcbiAgICBpZighYWxidW0pIHtcbiAgICAgIHRoaXMucm9vdCgpO1xuICAgICAgdGhpcy5idWlsZCgpO1xuICAgIH1cbiAgICBpZihhbGJ1bSkgdGhpcy5jb250ZW50KCk7XG4gICAgaWYodGhpcy5sb2dvLmxlbmd0aCAhPT0gMjcwNCkgcmV0dXJuO1xuICAgIGlmKCF0aGlzLmdhbGxlcnlDb250YWluZXIuZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLlwiICsgdGhpcy5zZXR0aW5ncy5jbGFzc0xvZ28pKSByZXR1cm47XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgICB0aGlzLmV2ZW50KCk7XG4gICAgdGhpcy5yZXNwb25zaXZlKCk7XG4gICAgaWYodGhpcy5zZXR0aW5ncy5oYXNoKSB0aGlzLmxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uLmhhc2g7XG4gICAgaWYodGhpcy5zZXR0aW5ncy5vdmVyZmxvdykgdGhpcy5vdmVyZmxvdygpO1xuICAgIGlmKCFhbGJ1bSkgdGhpcy5nYWxsZXJ5Q29udGFpbmVyLmFjdGl2ZSgpO1xuICAgIHRoaXMuc2V0KGluZGV4LCB0cnVlKTtcbiAgICB0aGlzLnJlYWR5ID0gdHJ1ZTtcbiAgfVxuXG4gIHRodW1ibmFpbFRyYW5zZm9ybShpbmRleCkge1xuICAgIHRoaXMudGh1bWJuYWlsVHJhbnNsYXRlID0gdGhpcy50aHVtYm5haWxzQ29udGVudC5lbGVtZW50LnN0eWxlLnRyYW5zZm9ybS5yZXBsYWNlKC90cmFuc2xhdGVYXFwoKC4rKXB4XFwpL2csIFwiJDFcIik7XG4gICAgdGhpcy50aHVtYm5haWxUcmFuc2xhdGUgPSAodGhpcy50aHVtYm5haWxUcmFuc2xhdGUgPT09IDAgfHwgdGhpcy50aHVtYm5haWxUcmFuc2xhdGUpID8gcGFyc2VJbnQodGhpcy50aHVtYm5haWxUcmFuc2xhdGUpIDogMDtcbiAgICB0aGlzLnRodW1ibmFpbFRyYW5zbGF0ZVggPSAodGhpcy50aHVtYm5haWxUcmFuc2xhdGUgPD0gMCkgPyAoKHRoaXMudGh1bWJuYWlsc0NvbnRlbnQuZWxlbWVudC5vZmZzZXRXaWR0aCArIHRoaXMudGh1bWJuYWlsVHJhbnNsYXRlIC0gd2luZG93LmlubmVyV2lkdGggPCAwKSAmJiB0aGlzLnRodW1ibmFpbHNDb250ZW50LmVsZW1lbnQub2Zmc2V0V2lkdGggPiB3aW5kb3cuaW5uZXJXaWR0aCkgPyB3aW5kb3cuaW5uZXJXaWR0aCAtIHRoaXMudGh1bWJuYWlsc0NvbnRlbnQuZWxlbWVudC5vZmZzZXRXaWR0aCA6ICh0aGlzLmdhbGxlcnlUaHVtYm5haWxzW2luZGV4XS5lbGVtZW50Lm9mZnNldExlZnQgKyB0aGlzLnRodW1ibmFpbFRyYW5zbGF0ZSA8IDApID8gdGhpcy5nYWxsZXJ5VGh1bWJuYWlsc1tpbmRleF0uZWxlbWVudC5vZmZzZXRMZWZ0ICogLTEgOiAodGhpcy5nYWxsZXJ5VGh1bWJuYWlsc1tpbmRleF0uZWxlbWVudC5vZmZzZXRMZWZ0ICsgdGhpcy5nYWxsZXJ5VGh1bWJuYWlsc1tpbmRleF0uZWxlbWVudC5vZmZzZXRXaWR0aCArIHRoaXMudGh1bWJuYWlsVHJhbnNsYXRlID4gd2luZG93LmlubmVyV2lkdGgpID8gKHRoaXMuZ2FsbGVyeVRodW1ibmFpbHNbaW5kZXhdLmVsZW1lbnQub2Zmc2V0TGVmdCArIHRoaXMuZ2FsbGVyeVRodW1ibmFpbHNbaW5kZXhdLmVsZW1lbnQub2Zmc2V0V2lkdGggLSB3aW5kb3cuaW5uZXJXaWR0aCkgKiAtMSA6IHRoaXMudGh1bWJuYWlsVHJhbnNsYXRlIDogMDtcbiAgICB0aGlzLnRodW1ibmFpbHNDb250ZW50LmVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKFwiICsgdGhpcy50aHVtYm5haWxUcmFuc2xhdGVYICsgXCJweClcIjtcbiAgfVxuXG4gIG92ZXJmbG93KCkge1xuICAgIHRoaXMuaGVhZC4kbm9kZS5hcHBlbmQodGhpcy5zdHlsZS5lbGVtZW50KTtcbiAgICB0aGlzLmh0bWwuJG5vZGUuYWRkQ2xhc3ModGhpcy5zZXR0aW5ncy5jbGFzc092ZXJmbG93KTtcbiAgfVxuXG4gIGhhc2goKSB7XG4gICAgbGV0IGxlbiA9IHRoaXMubGVuO1xuXG4gICAgd2hpbGUobGVuLS0pIHtcbiAgICAgIGlmKFwiI1wiICsgdGhpcy4kZ2FsbGVyeVtsZW5dLmRhdGFzZXQuaGFzaCA9PT0gd2luZG93LmxvY2F0aW9uLmhhc2gpIHtcbiAgICAgICAgdGhpcy5iaW4obGVuKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHpvb20oKSB7XG4gICAgKHRoaXMuZ2FsbGVyeUNvbnRhaW5lci4kbm9kZS5oYXNDbGFzcyh0aGlzLnNldHRpbmdzLmNsYXNzWm9vbSkpID8gdGhpcy56b29tT3V0KCkgOiB0aGlzLnpvb21JbigpO1xuICB9XG5cbiAgem9vbUluKCkge1xuICAgIHRoaXMuZ2FsbGVyeUNvbnRhaW5lci4kbm9kZS5yZW1vdmVDbGFzcyh0aGlzLnNldHRpbmdzLmNsYXNzWm9vbU91dCkuYWRkQ2xhc3ModGhpcy5zZXR0aW5ncy5jbGFzc1pvb20pO1xuICAgIHRoaXMuZ2FsbGVyeUZ1bGxTY3JlZW4uaW1nKHRoaXMuJGdhbGxlcnlbdGhpcy5pbmRleC52YWx1ZV0uZGF0YXNldC51cmwgfHwgdGhpcy4kZ2FsbGVyeVt0aGlzLmluZGV4LnZhbHVlXS5ocmVmIHx8IHRoaXMuJGdhbGxlcnlbdGhpcy5pbmRleC52YWx1ZV0uc3JjKS4kbm9kZS5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLmNsYXNzQWN0aXZlKTtcbiAgICBpZih0aGlzLnNldHRpbmdzLmNvdW50ZXIpIHRoaXMuZ2FsbGVyeVByb2dyZXNzLiRub2RlLnJlbW92ZUNsYXNzKHRoaXMuc2V0dGluZ3MuY2xhc3NBY3RpdmUpLnJlbW92ZUNsYXNzKHRoaXMuc2V0dGluZ3MuY2xhc3NQbGF5KTtcbiAgfVxuXG4gIHpvb21PdXQoKSB7XG4gICAgdGhpcy5nYWxsZXJ5Q29udGFpbmVyLiRub2RlLnJlbW92ZUNsYXNzKHRoaXMuc2V0dGluZ3MuY2xhc3Nab29tKS5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLmNsYXNzWm9vbU91dCk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmdhbGxlcnlGdWxsU2NyZWVuLmVsZW1lbnQuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgIHRoaXMuZ2FsbGVyeUZ1bGxTY3JlZW4uJG5vZGUucmVtb3ZlQ2xhc3ModGhpcy5zZXR0aW5ncy5jbGFzc0FjdGl2ZSk7XG4gICAgfSwgdGhpcy5zZXR0aW5ncy56b29tRGVsYXkpO1xuICB9XG5cbiAgY291bnRlcigpIHtcbiAgICAodGhpcy5nYWxsZXJ5UHJvZ3Jlc3MuJG5vZGUuaGFzQ2xhc3ModGhpcy5zZXR0aW5ncy5jbGFzc0FjdGl2ZSkpID8gdGhpcy5jb3VudGVyU3RvcCgpIDogdGhpcy5jb3VudGVyU3RhcnQoKTtcbiAgfVxuXG4gIGNvdW50ZXJTdGFydCgpIHtcbiAgICB0aGlzLmZhY3RvcnkodGhpcy5nYWxsZXJ5UHJvZ3Jlc3MuJG5vZGUuYWRkQ2xhc3ModGhpcy5zZXR0aW5ncy5jbGFzc1Vuc2V0KSkuYW5pbWF0aW9uKCkuJG5vZGUucmVtb3ZlQ2xhc3ModGhpcy5zZXR0aW5ncy5jbGFzc1Vuc2V0KS5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLmNsYXNzQWN0aXZlKS5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLmNsYXNzUGxheSk7XG4gIH1cblxuICBjb3VudGVyU3RvcCgpIHtcbiAgICB0aGlzLmdhbGxlcnlQcm9ncmVzcy4kbm9kZS5yZW1vdmVDbGFzcyh0aGlzLnNldHRpbmdzLmNsYXNzQWN0aXZlKS5yZW1vdmVDbGFzcyh0aGlzLnNldHRpbmdzLmNsYXNzUGxheSk7XG4gIH1cblxuICB0aHVtYm5haWwoKSB7XG4gICAgKHRoaXMuZ2FsbGVyeUNvbnRhaW5lci4kbm9kZS5oYXNDbGFzcyh0aGlzLnNldHRpbmdzLnRodW1ibmFpbHNDbGFzc1Nob3cpKSA/IHRoaXMudGh1bWJuYWlsT3V0KCkgOiB0aGlzLnRodW1ibmFpbEluKCk7XG4gIH1cblxuICB0aHVtYm5haWxJbigpIHtcbiAgICB0aGlzLmdhbGxlcnlDb250YWluZXIuJG5vZGUuYWRkQ2xhc3ModGhpcy5zZXR0aW5ncy50aHVtYm5haWxzQ2xhc3NTaG93KTtcbiAgICB0aGlzLiQodGhpcy50aHVtYm5haWxzQ29udGVudC5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuXCIgKyB0aGlzLnNldHRpbmdzLnRodW1ibmFpbHNDbGFzc0ltYWdlICsgXCIgYnV0dG9uXCIpKS5hdHRyKFwidGFiaW5kZXhcIixcIjBcIik7XG4gIH1cblxuICB0aHVtYm5haWxPdXQoKSB7XG4gICAgdGhpcy5nYWxsZXJ5Q29udGFpbmVyLiRub2RlLnJlbW92ZUNsYXNzKHRoaXMuc2V0dGluZ3MudGh1bWJuYWlsc0NsYXNzU2hvdyk7XG4gICAgdGhpcy4kKHRoaXMudGh1bWJuYWlsc0NvbnRlbnQuZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLlwiICsgdGhpcy5zZXR0aW5ncy50aHVtYm5haWxzQ2xhc3NJbWFnZSArIFwiIGJ1dHRvblwiKSkuYXR0cihcInRhYmluZGV4XCIsXCItMVwiKTtcbiAgfVxuXG4gIHJlbW92ZSgpIHtcbiAgICBpZih0aGlzLmh0bWwpIHRoaXMuaHRtbC4kbm9kZS5yZW1vdmVDbGFzcyh0aGlzLnNldHRpbmdzLmNsYXNzT3ZlcmZsb3cpO1xuICAgIGlmKHRoaXMuc3R5bGUpIHRoaXMuc3R5bGUuJG5vZGUucmVtb3ZlKCk7XG4gICAgaWYodGhpcy5nYWxsZXJ5Q29udGFpbmVyKSB0aGlzLmdhbGxlcnlDb250YWluZXIuJG5vZGUucmVtb3ZlKCk7XG4gICAgdGhpcy5ib290KCk7XG4gICAgdGhpcy5yZW1vdmVFdmVudHMoKTtcbiAgICB0aGlzLnJlYWR5ID0gZmFsc2U7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLmdhbGxlcnlDb250YWluZXIuaW5hY3RpdmUoKS4kbm9kZS5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLmNsYXNzSW5hY3RpdmUpO1xuICAgIGNvbXBzb3VsLmxvY2F0aW9uKHRoaXMubG9jYXRpb24pO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5yZW1vdmUoKTtcbiAgICB9LCB0aGlzLnNldHRpbmdzLmNsb3NlRGVsYXkpO1xuICB9XG5cbiAga2V5KCkge1xuICAgIHRoaXMua2V5TmV4dCA9IChldmVudCkgPT4ge1xuICAgICAgaWYodGhpcy5zZXR0aW5ncy5rZXlOZXh0LmluY2x1ZGVzKGV2ZW50LmtleSkgfHwgdGhpcy5zZXR0aW5ncy5rZXlOZXh0LmluY2x1ZGVzKGV2ZW50LmNvZGUpKSB0aGlzLnNldCh0aGlzLmluZGV4LnZhbHVlICsgMSwgdHJ1ZSk7XG4gICAgfTtcbiAgICB0aGlzLmtleVByZXYgPSAoZXZlbnQpID0+IHtcbiAgICAgIGlmKHRoaXMuc2V0dGluZ3Mua2V5UHJldi5pbmNsdWRlcyhldmVudC5rZXkpIHx8IHRoaXMuc2V0dGluZ3Mua2V5UHJldi5pbmNsdWRlcyhldmVudC5jb2RlKSkgdGhpcy5zZXQodGhpcy5pbmRleC52YWx1ZSAtIDEsIHRydWUpO1xuICAgIH07XG4gICAgdGhpcy5rZXlDbG9zZSA9IChldmVudCkgPT4ge1xuICAgICAgaWYodGhpcy5zZXR0aW5ncy5rZXlDbG9zZS5pbmNsdWRlcyhldmVudC5rZXkpIHx8IHRoaXMuc2V0dGluZ3Mua2V5Q2xvc2UuaW5jbHVkZXMoZXZlbnQuY29kZSkpIHRoaXMuY2xvc2UoKTtcbiAgICB9O1xuICAgIHRoaXMua2V5Q291bnRlciA9IChldmVudCkgPT4ge1xuICAgICAgaWYodGhpcy5zZXR0aW5ncy5rZXlDb3VudGVyLmluY2x1ZGVzKGV2ZW50LmtleSkgfHwgdGhpcy5zZXR0aW5ncy5rZXlDb3VudGVyLmluY2x1ZGVzKGV2ZW50LmNvZGUpKSB0aGlzLmNvdW50ZXIoKTtcbiAgICB9O1xuICAgIHRoaXMua2V5VGh1bWJuYWlscyA9IChldmVudCkgPT4ge1xuICAgICAgaWYodGhpcy5zZXR0aW5ncy5rZXlUaHVtYm5haWxzLmluY2x1ZGVzKGV2ZW50LmtleSkgfHwgdGhpcy5zZXR0aW5ncy5rZXlUaHVtYm5haWxzLmluY2x1ZGVzKGV2ZW50LmNvZGUpKSB0aGlzLmdhbGxlcnlDb250YWluZXIuJG5vZGUudG9nZ2xlQ2xhc3ModGhpcy5zZXR0aW5ncy50aHVtYm5haWxzQ2xhc3NTaG93KTtcbiAgICB9O1xuICAgIHRoaXMua2V5Wm9vbSA9IChldmVudCkgPT4ge1xuICAgICAgaWYodGhpcy5zZXR0aW5ncy5rZXlab29tLmluY2x1ZGVzKGV2ZW50LmtleSkgfHwgdGhpcy5zZXR0aW5ncy5rZXlab29tLmluY2x1ZGVzKGV2ZW50LmNvZGUpKSB0aGlzLnpvb20oKTtcbiAgICB9O1xuICAgIGlmKHRoaXMuc2V0dGluZ3Mua2V5TmV4dCAmJiB0aGlzLnNldHRpbmdzLm5leHQpIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmtleU5leHQpO1xuICAgIGlmKHRoaXMuc2V0dGluZ3Mua2V5UHJldiAmJiB0aGlzLnNldHRpbmdzLnByZXYpIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmtleVByZXYpO1xuICAgIGlmKHRoaXMuc2V0dGluZ3Mua2V5Q2xvc2UgJiYgdGhpcy5zZXR0aW5ncy5jbG9zZSkgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5Q2xvc2UpO1xuICAgIGlmKHRoaXMuc2V0dGluZ3Mua2V5Q291bnRlciAmJiB0aGlzLnNldHRpbmdzLmNvdW50ZXIpIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmtleUNvdW50ZXIpO1xuICAgIGlmKHRoaXMuc2V0dGluZ3Mua2V5VGh1bWJuYWlscyAmJiB0aGlzLnNldHRpbmdzLnRodW1ibmFpbHMpIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmtleVRodW1ibmFpbHMpO1xuICAgIGlmKHRoaXMuc2V0dGluZ3Mua2V5Wm9vbSAmJiB0aGlzLnNldHRpbmdzLnpvb20pIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmtleVpvb20pO1xuICB9XG5cbiAgZXZlbnQoKSB7XG4gICAgY29uc29sZS5sb2coXCJldmVudFwiKTtcbiAgICB0aGlzLmdhbGxlcnlDb250YWluZXIuJG5vZGUub24oXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmKGV2ZW50LnRhcmdldCA9PT0gdGhpcy5nYWxsZXJ5UHJldi5lbGVtZW50IHx8IGV2ZW50LnRhcmdldCA9PT0gdGhpcy5nYWxsZXJ5UHJldi5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCJidXR0b25cIikpIHRoaXMuc2V0KHRoaXMuaW5kZXgudmFsdWUgLSAxLCB0cnVlKTtcbiAgICAgIGlmKGV2ZW50LnRhcmdldCA9PT0gdGhpcy5nYWxsZXJ5TmV4dC5lbGVtZW50IHx8IGV2ZW50LnRhcmdldCA9PT0gdGhpcy5nYWxsZXJ5TmV4dC5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCJidXR0b25cIikpIHRoaXMuc2V0KHRoaXMuaW5kZXgudmFsdWUgKyAxLCB0cnVlKTtcbiAgICAgIGlmKChldmVudC50YXJnZXQgPT09IHRoaXMuZ2FsbGVyeUNsb3NlLmVsZW1lbnQgfHwgZXZlbnQudGFyZ2V0ID09PSB0aGlzLmdhbGxlcnlDbG9zZS5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCJidXR0b25cIikpICYmICF0aGlzLmdhbGxlcnlDb250YWluZXIuJG5vZGUuaGFzQ2xhc3ModGhpcy5zZXR0aW5ncy5jbGFzc1pvb20pKSB0aGlzLmNsb3NlKCk7XG4gICAgICBpZihldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuc2V0dGluZ3MuZ2FsbGVyeUNsYXNzQ29udGVudCkgfHwgZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyh0aGlzLnNldHRpbmdzLmdhbGxlcnlDbGFzc0l0ZW0pKSB0aGlzLmNsb3NlKCk7XG4gICAgICBpZigoZXZlbnQudGFyZ2V0ID09PSB0aGlzLmdhbGxlcnlDbG9zZS5lbGVtZW50IHx8IGV2ZW50LnRhcmdldCA9PT0gdGhpcy5nYWxsZXJ5Q2xvc2UuZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiYnV0dG9uXCIpKSAmJiB0aGlzLmdhbGxlcnlDb250YWluZXIuJG5vZGUuaGFzQ2xhc3ModGhpcy5zZXR0aW5ncy5jbGFzc1pvb20pKSB0aGlzLnpvb20oKTtcbiAgICAgIGlmKGV2ZW50LnRhcmdldCA9PT0gdGhpcy5nYWxsZXJ5Wm9vbS5lbGVtZW50IHx8IGV2ZW50LnRhcmdldCA9PT0gdGhpcy5nYWxsZXJ5Wm9vbS5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCJidXR0b25cIikpIHRoaXMuem9vbSgpO1xuICAgICAgaWYoZXZlbnQudGFyZ2V0ID09PSB0aGlzLnRodW1ibmFpbHNUb2dnbGUuZWxlbWVudCB8fCBldmVudC50YXJnZXQgPT09IHRoaXMudGh1bWJuYWlsc1RvZ2dsZS5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCJidXR0b25cIikpIHRoaXMudGh1bWJuYWlsKCk7XG4gICAgICBpZihldmVudC50YXJnZXQgPT09IHRoaXMuZ2FsbGVyeVByb2dyZXNzLmVsZW1lbnQgfHwgZXZlbnQudGFyZ2V0ID09PSB0aGlzLmdhbGxlcnlQcm9ncmVzcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCJidXR0b25cIikpIHRoaXMuY291bnRlcigpO1xuICAgIH0pO1xuXG4gICAgdGhpcy50aHVtYm5haWxzQ29udGVudC4kbm9kZS5vbihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgICAgaWYoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyh0aGlzLnNldHRpbmdzLnRodW1ibmFpbHNDbGFzc0ltYWdlKSkgdGhpcy5zZXQodGhpcy4kKGV2ZW50LnRhcmdldCkuaW5kZXgoKSk7XG4gICAgICBpZihldmVudC50YXJnZXQucGFyZW50Tm9kZS5jbGFzc0xpc3QuY29udGFpbnModGhpcy5zZXR0aW5ncy50aHVtYm5haWxzQ2xhc3NJbWFnZSkpIHRoaXMuc2V0KHRoaXMuJChldmVudC50YXJnZXQucGFyZW50Tm9kZSkuaW5kZXgoKSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmdhbGxlcnlQcm9ncmVzcy4kbm9kZS5vbignYW5pbWF0aW9uZW5kJywgKCkgPT4ge1xuICAgICAgdGhpcy5zZXQodGhpcy5pbmRleC52YWx1ZSArIDEsIHRydWUpO1xuICAgIH0pO1xuXG4gICAgdGhpcy50aHVtYm5haWxzQ29udGVudC4kbm9kZS5vbihcIm1vdXNlZG93blwiLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmKHRoaXMudGh1bWJuYWlsc0NvbnRlbnQuZWxlbWVudC5vZmZzZXRXaWR0aCA+IHdpbmRvdy5pbm5lcldpZHRoKSB0aGlzLmRyYWcoZXZlbnQpO1xuICAgIH0pO1xuXG4gICAgdGhpcy50aHVtYm5haWxzQ29udGVudC4kbm9kZS5vbihcInRvdWNoc3RhcnRcIiwgKGV2ZW50KSA9PiB7XG4gICAgICBpZih0aGlzLnRodW1ibmFpbHNDb250ZW50LmVsZW1lbnQub2Zmc2V0V2lkdGggPiB3aW5kb3cuaW5uZXJXaWR0aCkgdGhpcy5kcmFnKGV2ZW50KTtcbiAgICB9KTtcblxuICAgIHRoaXMuZ2FsbGVyeS4kbm9kZS5vbihcInRvdWNoc3RhcnRcIiwgKGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLmdhbGxlcnlUb3VjaFN0YXJ0ID0gZXZlbnQudG91Y2hlc1swXS5zY3JlZW5YO1xuICAgIH0pO1xuXG4gICAgdGhpcy5nYWxsZXJ5LiRub2RlLm9uKFwidG91Y2hlbmRcIiwgKGV2ZW50KSA9PiB7XG4gICAgICBpZih0aGlzLmdhbGxlcnlUb3VjaFN0YXJ0IC0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uc2NyZWVuWCA8IC00MCkgdGhpcy5zZXQodGhpcy5pbmRleC52YWx1ZSAtIDEsIHRydWUpO1xuICAgICAgaWYodGhpcy5nYWxsZXJ5VG91Y2hTdGFydCAtIGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnNjcmVlblggPiA0MCkgdGhpcy5zZXQodGhpcy5pbmRleC52YWx1ZSArIDEsIHRydWUpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5ldmVudFJlc2l6ZSA9ICgpID0+IHtcbiAgICAgIGlmKHRoaXMuaW5kZXgudmFsdWUpIHRoaXMudGh1bWJuYWlsVHJhbnNmb3JtKHRoaXMuaW5kZXgudmFsdWUpO1xuICAgICAgdGhpcy5nYWxsZXJ5Q29udGFpbmVyLiRub2RlLmFkZENsYXNzKHRoaXMuc2V0dGluZ3MuY2xhc3NSZXNpemUpO1xuICAgICAgdGhpcy5ldmVudFJlc2l6ZUVuZCgpO1xuICAgICAgdGhpcy5ldmVudFJlc3BvbnNpdmUoKTtcbiAgICB9XG5cbiAgICB0aGlzLmV2ZW50UmVzaXplRW5kID0gY29tcHNvdWwuZGVib3VuY2UoKCkgPT4ge1xuICAgICAgdGhpcy5nYWxsZXJ5Q29udGFpbmVyLiRub2RlLnJlbW92ZUNsYXNzKHRoaXMuc2V0dGluZ3MuY2xhc3NSZXNpemUpO1xuICAgIH0sIDIwMCk7XG5cbiAgICB0aGlzLmV2ZW50UmVzcG9uc2l2ZSA9IGNvbXBzb3VsLmRlYm91bmNlKCgpID0+IHtcbiAgICAgIHRoaXMucmVzcG9uc2l2ZSgpO1xuICAgIH0sIDIwMCk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLmV2ZW50UmVzaXplKTtcbiAgICB0aGlzLmtleSgpO1xuICB9XG5cbiAgZHJhZyhldmVudCkge1xuICAgIGlmKHRoaXMuZHJhZ2dlZCkgcmV0dXJuO1xuICAgIHRoaXMuZHJhZ2dlZCA9IHRydWU7XG4gICAgdGhpcy5kcmFnU2NyZWVuWCA9IGV2ZW50LnNjcmVlblggfHwgZXZlbnQudG91Y2hlc1swXS5zY3JlZW5YO1xuICAgIHRoaXMuZHJhZ1RyYW5zbGF0ZSA9IHRoaXMudGh1bWJuYWlsc0NvbnRlbnQuZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0ucmVwbGFjZSgvdHJhbnNsYXRlWFxcKCguKylweFxcKS9nLCBcIiQxXCIpO1xuICAgIHRoaXMuZHJhZ1RyYW5zbGF0ZSA9ICh0aGlzLmRyYWdUcmFuc2xhdGUgPT09IDAgfHwgdGhpcy5kcmFnVHJhbnNsYXRlKSA/IHBhcnNlSW50KHRoaXMuZHJhZ1RyYW5zbGF0ZSkgOiAwO1xuICAgIHRoaXMuZHJhZ01vdXNlTW92ZSA9IGNvbXBzb3VsLnRocm90dGxlKChldmVudCkgPT4ge1xuICAgICAgdGhpcy5kcmFnTW92ZVNjcmVlblggPSBldmVudC5zY3JlZW5YIHx8IGV2ZW50LnRvdWNoZXNbMF0uc2NyZWVuWDtcbiAgICAgIHRoaXMudGh1bWJuYWlsc0NvbnRlbnQuJG5vZGUuYWRkQ2xhc3ModGhpcy5zZXR0aW5ncy5jbGFzc0RyYWcpO1xuICAgICAgdGhpcy5kcmFnVHJhbnNsYXRlWCA9ICgodGhpcy5kcmFnVHJhbnNsYXRlICsgdGhpcy5kcmFnTW92ZVNjcmVlblggLSB0aGlzLmRyYWdTY3JlZW5YKSA8PSAwKSA/ICh0aGlzLnRodW1ibmFpbHNDb250ZW50LmVsZW1lbnQub2Zmc2V0V2lkdGggKyAodGhpcy5kcmFnVHJhbnNsYXRlICsgdGhpcy5kcmFnTW92ZVNjcmVlblggLSB0aGlzLmRyYWdTY3JlZW5YIC0gd2luZG93LmlubmVyV2lkdGgpIDwgMCkgPyB3aW5kb3cuaW5uZXJXaWR0aCAtIHRoaXMudGh1bWJuYWlsc0NvbnRlbnQuZWxlbWVudC5vZmZzZXRXaWR0aCA6IHRoaXMuZHJhZ1RyYW5zbGF0ZSArIHRoaXMuZHJhZ01vdmVTY3JlZW5YIC0gdGhpcy5kcmFnU2NyZWVuWCA6IDA7XG4gICAgICB0aGlzLnRodW1ibmFpbHNDb250ZW50LmVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKFwiICsgdGhpcy5kcmFnVHJhbnNsYXRlWCArIFwicHgpXCI7XG4gICAgfSwgMTYpO1xuICAgIHRoaXMuZHJhZ01vdXNlVXAgPSAoKSA9PiB7XG4gICAgICB0aGlzLnRodW1ibmFpbHNDb250ZW50LiRub2RlLnJlbW92ZUNsYXNzKHRoaXMuc2V0dGluZ3MuY2xhc3NEcmFnKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMuZHJhZ01vdXNlTW92ZSk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5kcmFnTW91c2VVcCk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLCB0aGlzLmRyYWdNb3VzZU1vdmUpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCB0aGlzLmRyYWdNb3VzZVVwKTtcbiAgICAgIHRoaXMuZHJhZ2dlZCA9IGZhbHNlO1xuICAgIH1cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLmRyYWdNb3VzZU1vdmUpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLmRyYWdNb3VzZVVwKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLCB0aGlzLmRyYWdNb3VzZU1vdmUpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgdGhpcy5kcmFnTW91c2VVcCk7XG4gIH1cblxuICByZW1vdmVFdmVudHMoKSB7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5TmV4dCk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5UHJldik7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5Q2xvc2UpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmtleUNvdW50ZXIpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmtleVRodW1ibmFpbHMpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmtleVpvb20pO1xuXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdGhpcy5ldmVudFJlc2l6ZSk7XG4gIH1cblxuICBjdXN0b21FdmVudCgpIHtcbiAgICB0aGlzLmN1c3RvbSA9IG5ldyBDdXN0b21FdmVudChcImNvbXBzb3VsLWdhbGxlcnlcIik7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNvbXBzb3VsLWdhbGxlcnlcIiwgKGV2ZW50KSA9PiB7XG4gICAgICBpZih0aGlzLnJlYWR5KSB7XG4gICAgICAgIGNvbXBzb3VsLmxvY2F0aW9uKHRoaXMubG9jYXRpb24pO1xuICAgICAgICB0aGlzLnJlbW92ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZGVsZWdhdGlvbigpIHtcbiAgICB0aGlzLmJvb3QoKTtcbiAgICB0aGlzLiQoXCJib2R5XCIpLm9uKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XG4gICAgICBsZXQgbGVuID0gdGhpcy5sZW47XG4gICAgICB3aGlsZShsZW4tLSkge1xuICAgICAgICBpZihldmVudC50YXJnZXQgPT09IHRoaXMuJGdhbGxlcnlbbGVuXSkge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgaWYodGhpcy5zZXR0aW5ncy5hbGJ1bSkge1xuXG4gICAgICAgICAgICB0aGlzLnJvb3QoKTtcbiAgICAgICAgICAgIHRoaXMuYnVpbGQodHJ1ZSk7XG4gICAgICAgICAgICBpZih0aGlzLnNldHRpbmdzLm92ZXJmbG93KSB0aGlzLm92ZXJmbG93KCk7XG4gICAgICAgICAgICB0aGlzLmdhbGxlcnlDb250YWluZXIuYWN0aXZlKCk7XG5cbiAgICAgICAgICAgIHRoaXMuJGdhbGxlcnkuYWpheCh7XG4gICAgICAgICAgICAgIHR5cGU6IFwiR0VUXCIsXG4gICAgICAgICAgICAgIHVybDogdGhpcy4kZ2FsbGVyeVtsZW5dLmRhdGFzZXQudXJsIHx8IHRoaXMuJGdhbGxlcnlbbGVuXS5ocmVmIHx8IHRoaXMuJGdhbGxlcnlbbGVuXS5zcmMsXG4gICAgICAgICAgICAgIHN1Y2Nlc3M6IChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYm9vdChuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKHJlc3BvbnNlLCBcInRleHQvaHRtbFwiKS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuc2V0dGluZ3Muc2VsZWN0b3IpKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJpbih0aGlzLnNldHRpbmdzLmFsYnVtU3RhcnQgfHwgMCwgdHJ1ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmJpbihsZW4pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJlc3BvbnNpdmUoKSB7XG4gICAgbGV0IHJhbmdlO1xuICAgIGZvciAobGV0IGtleSBpbiB0aGlzLnNldHRpbmdzLnJlc3BvbnNpdmUpIHtcbiAgICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8PSBwYXJzZUludChrZXkpKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyh0aGlzLmRlZmF1bHQpO1xuICAgICAgICB0aGlzLnVwZGF0ZSh0aGlzLnNldHRpbmdzLnJlc3BvbnNpdmVba2V5XSk7XG4gICAgICAgIHJhbmdlID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBpZighcmFuZ2UpIHRoaXMudXBkYXRlKHRoaXMuZGVmYXVsdCk7XG4gIH1cblxuICB1cGRhdGUoc2V0dGluZ3MpIHtcbiAgICBpZihzZXR0aW5ncykgdGhpcy5vcHRpb25zKHNldHRpbmdzKTtcbiAgICAodGhpcy5zZXR0aW5ncy56b29tKSA/IHRoaXMuZ2FsbGVyeVpvb20uJG5vZGUucmVtb3ZlQ2xhc3ModGhpcy5zZXR0aW5ncy5jbGFzc0hpZGRlbikgOiB0aGlzLmdhbGxlcnlab29tLiRub2RlLmFkZENsYXNzKHRoaXMuc2V0dGluZ3MuY2xhc3NIaWRkZW4pO1xuICAgICh0aGlzLnNldHRpbmdzLmNvdW50ZXIpID8gdGhpcy5nYWxsZXJ5UHJvZ3Jlc3MuJG5vZGUucmVtb3ZlQ2xhc3ModGhpcy5zZXR0aW5ncy5jbGFzc0hpZGRlbikgOiB0aGlzLmdhbGxlcnlQcm9ncmVzcy4kbm9kZS5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLmNsYXNzSGlkZGVuKTtcbiAgICAodGhpcy5zZXR0aW5ncy5jbG9zZSkgPyB0aGlzLmdhbGxlcnlDbG9zZS4kbm9kZS5yZW1vdmVDbGFzcyh0aGlzLnNldHRpbmdzLmNsYXNzSGlkZGVuKSA6IHRoaXMuZ2FsbGVyeUNsb3NlLiRub2RlLmFkZENsYXNzKHRoaXMuc2V0dGluZ3MuY2xhc3NIaWRkZW4pO1xuICAgICh0aGlzLnNldHRpbmdzLnByZXYpID8gdGhpcy5nYWxsZXJ5UHJldi4kbm9kZS5yZW1vdmVDbGFzcyh0aGlzLnNldHRpbmdzLmNsYXNzSGlkZGVuKSA6IHRoaXMuZ2FsbGVyeVByZXYuJG5vZGUuYWRkQ2xhc3ModGhpcy5zZXR0aW5ncy5jbGFzc0hpZGRlbik7XG4gICAgKHRoaXMuc2V0dGluZ3MubmV4dCkgPyB0aGlzLmdhbGxlcnlOZXh0LiRub2RlLnJlbW92ZUNsYXNzKHRoaXMuc2V0dGluZ3MuY2xhc3NIaWRkZW4pIDogdGhpcy5nYWxsZXJ5TmV4dC4kbm9kZS5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLmNsYXNzSGlkZGVuKTtcbiAgICAodGhpcy5zZXR0aW5ncy50aHVtYm5haWxzKSA/IHRoaXMudGh1bWJuYWlsc1RvZ2dsZS4kbm9kZS5yZW1vdmVDbGFzcyh0aGlzLnNldHRpbmdzLmNsYXNzSGlkZGVuKSA6IHRoaXMudGh1bWJuYWlsc1RvZ2dsZS4kbm9kZS5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLmNsYXNzSGlkZGVuKTtcbiAgICBpZighdGhpcy5zZXR0aW5ncy56b29tKSB0aGlzLnpvb21PdXQoKTtcbiAgICBpZighdGhpcy5zZXR0aW5ncy5jb3VudGVyKSB0aGlzLmNvdW50ZXJTdG9wKCk7XG4gICAgaWYoIXRoaXMuc2V0dGluZ3MudGh1bWJuYWlscykgdGhpcy50aHVtYm5haWxPdXQoKTtcbiAgICB0aGlzLm5hdigpO1xuICB9XG5cbiAgY29tcHNvdWwoKSB7XG4gICAgd2luZG93LmNvbXBzb3VsID0gd2luZG93LmNvbXBzb3VsIHx8IHt9O1xuICAgIGNvbXBzb3VsLmJhciA9IGNvbXBzb3VsLmJhciB8fCB7fTtcbiAgICBjb21wc291bC5iYXIuZ2V0V2lkdGggPSBjb21wc291bC5iYXIuZ2V0V2lkdGggfHwgZnVuY3Rpb24oKSB7XG4gICAgICBsZXQgd2lkdGgsXG4gICAgICAgICAgb3V0ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuICAgICAgICAgIGlubmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblxuICAgICAgb3V0ZXIuYXBwZW5kQ2hpbGQoaW5uZXIpO1xuICAgICAgb3V0ZXIuc3R5bGUub3ZlcmZsb3dZID0gXCJzY3JvbGxcIjtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQob3V0ZXIpO1xuICAgICAgd2lkdGggPSBvdXRlci5vZmZzZXRXaWR0aCAtIGlubmVyLm9mZnNldFdpZHRoO1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChvdXRlcik7XG4gICAgICByZXR1cm4gd2lkdGg7XG4gICAgfVxuXG4gICAgY29tcHNvdWwuYmFyLndpZHRoID0gY29tcHNvdWwuYmFyLndpZHRoIHx8IGNvbXBzb3VsLmJhci5nZXRXaWR0aCgpO1xuXG4gICAgY29tcHNvdWwubG9jYXRpb24gPSBjb21wc291bC5sb2NhdGlvbiB8fCBmdW5jdGlvbihoYXNoKSB7XG4gICAgICBpZihoYXNoKSB7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gaGFzaDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlKCcnLCBkb2N1bWVudC50aXRsZSwgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb21wc291bC50aHJvdHRsZSA9IGNvbXBzb3VsLnRocm90dGxlIHx8ICgoY2FsbGJhY2ssIGRlbGF5KSA9PiB7XG4gICAgICBsZXQgdGhyb3R0bGU7XG4gICAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgaWYgKCF0aHJvdHRsZSkge1xuICAgICAgICAgIGNhbGxiYWNrKC4uLmFyZ3MpO1xuICAgICAgICAgIHRocm90dGxlID0gc2V0VGltZW91dCgoKSA9PiB0aHJvdHRsZSA9IGZhbHNlLCBkZWxheSlcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KVxuXG4gICAgY29tcHNvdWwuZGVib3VuY2UgPSBjb21wc291bC5kZWJvdW5jZSB8fCAoKGNhbGxiYWNrLCBkZWxheSkgPT4ge1xuICAgICAgbGV0IHRpbWVvdXQ7XG4gICAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgY29uc3QgdGhhdCA9IHRoaXM7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4gY2FsbGJhY2suYXBwbHkodGhhdCwgYXJncyksIGRlbGF5KTtcbiAgICAgIH07XG4gICAgfSlcbiAgfVxuXG4gIGJvb3QocXVlcnkpIHtcbiAgICB0aGlzLiRnYWxsZXJ5ID0gbmV3IENvbXBzb3VsKHF1ZXJ5IHx8IHRoaXMuc2V0dGluZ3Muc2VsZWN0b3IpO1xuICAgIHRoaXMubGVuID0gdGhpcy4kZ2FsbGVyeS5sZW5ndGg7XG4gIH1cblxuICBvcHRpb25zKHNldHRpbmdzKSB7XG4gICAgaWYoIXRoaXMuZGVmYXVsdCkgdGhpcy5kZWZhdWx0ID0gT2JqZWN0LmFzc2lnbih7fSwgT2JqZWN0LmFzc2lnbih0aGlzLnNldHRpbmdzLCBzZXR0aW5ncykpO1xuICAgIE9iamVjdC5hc3NpZ24odGhpcy5zZXR0aW5ncywgc2V0dGluZ3MpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgaW5pdCgpIHtcbiAgICBjb25zb2xlLmxvZyhcImluaXRcIik7XG4gICAgdGhpcy5jdXN0b21FdmVudCgpO1xuICAgIHRoaXMuY29tcHNvdWwoKTtcbiAgICB0aGlzLmRlbGVnYXRpb24oKTtcbiAgICBpZih0aGlzLnNldHRpbmdzLmhhc2gpIHRoaXMuaGFzaCgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG59XG4iXX0=
